{"version":3,"sources":["src\\common\\dataRequest.js"],"names":[],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AACA,cAAI,GAAJ;;;AAqCA,IAAM,UAAU;AACf,OAAM,yBAAY;AACjB,MAAI,OAAO;AACV,SAAK;AADK,GAAX;AAGA,MAAI,OAAO,IAAX;AACA,MAAI,aAAY,sCAAhB;AACA,MAAG,CAAC,UAAU,GAAd,EAAkB;AACjB,SAAM,aAAN;AACA;AACD,OAAK,GAAL,GAAW,UAAU,GAArB;AACA,OAAK,IAAL,GAAY,UAAU,IAAV,GAAiB,UAAU,IAA3B,GAAkC,KAA9C;AACA,OAAK,IAAL,GAAY,UAAU,IAAV,GAAiB,UAAU,IAA3B,GAAkC,IAA9C;AACA,MAAG,UAAU,MAAb,EAAoB;AACnB,QAAK,MAAL,GAAc,UAAU,MAAxB;AACA,QAAK,MAAL,CAAY,OAAZ,CAAoB,WAApB,GAAkC,UAAlC;AACA,GAHD,MAGK;AACJ,QAAK,MAAL,GAAa;AACZ,aAAS;AACD,kBAAa,UADZ;AAED,mBAAc;AAFb;AADG,IAAb;AAMA;AACD,MAAI,YAAY,SAAZ,SAAY,CAAS,QAAT,EAAkB;AACjC,OAAI,OAAO,SAAS,IAApB;AACA,OAAI,UAAU,UAAU,OAAV,GAAoB,UAAU,OAA9B,GAAwC,IAAtD;AACA,OAAG,OAAH,EAAW;AACV,cAAU,OAAV,CAAkB,IAAlB,CAAuB,OAAvB,EAA+B,IAA/B,EAAoC,QAApC;AACA,IAFD,MAEK;AACJ,cAAU,OAAV,CAAkB,IAAlB,EAAuB,QAAvB;AACA;AAED,GATD;AAUA,MAAI,UAAU,SAAV,OAAU,CAAS,QAAT,EAAkB;AAC/B,OAAI,SAAS,SAAS,MAAtB;AACA,OAAI,aAAa,SAAS,UAA1B;AACA,WAAQ,GAAR,CAAY,cAAY,MAAZ,GAAmB,0BAAnB,GAA8C,UAA1D;AACA,OAAI,UAAU,UAAU,OAAV,GAAoB,UAAU,OAA9B,GAAwC,IAAtD;AACA,OAAI,gBAAgB,UAAU,KAAV,GAAkB,IAAlB,GAAyB,KAA7C;AACA,OAAG,aAAH,EAAiB;AAChB,QAAG,OAAH,EAAW;AACV,eAAU,KAAV,CAAgB,IAAhB,CAAqB,OAArB,EAA6B,QAA7B,EAAsC,MAAtC,EAA6C,UAA7C;AACA,KAFD,MAEK;AACJ,eAAU,KAAV,CAAgB,IAAhB,EAAqB,QAArB,EAA8B,MAA9B,EAAqC,UAArC;AACA;AACD;AAED,GAdD;AAeA,MAAG,KAAK,IAAL,CAAU,WAAV,MAA2B,KAA9B,EAAoC;AACnC,iBAAI,IAAJ,CAAS,GAAT,CAAa,KAAK,GAAlB,EAAsB,KAAK,IAA3B,EAAgC,KAAK,MAArC,EAA6C,IAA7C,CAAkD,SAAlD,EAA4D,OAA5D;AACA;AACD,MAAG,KAAK,IAAL,CAAU,WAAV,MAA2B,MAA9B,EAAqC;AACpC,iBAAI,IAAJ,CAAS,IAAT,CAAc,KAAK,GAAnB,EAAuB,KAAK,IAA5B,EAAiC,KAAK,MAAtC,EAA8C,IAA9C,CAAmD,SAAnD,EAA6D,OAA7D;AACA;AAED;AAxDc,CAAhB;;kBA2De;AACd;AADc,C;QAId,O,GAAA,O","file":"dataRequest.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/jxddH5PlusApp/unpackage","sourcesContent":["import Vue from 'vue';\r\nimport VueResource from 'library/vue-resource.js';\r\nimport utils from 'common/utils';\r\nVue.use(VueResource);\r\n/*\r\n *引用vue-resourse方法\r\n *页面的ajax请求统一调用这一部分 \r\n * 分别为ajax请求前做拦截 和请求后的数据处理\r\n *\r\n *使用方法:\r\n * import dataRequest from 'api/dataRequest';\r\n * dataRequest.request.ajax({\r\n * \t'url':'①',\r\n *  'type':'②',\r\n *  'data':③,\r\n *  'success':④,\r\n *  'error':⑤,\r\n * \t'context':⑥\r\n\t})\r\n\t\r\n\t①:为请求地址的url地址\r\n\t②:请求的类型 get  or  post \r\n\t③:请求的参数  为json数据类型\r\n\t④:请求成功函数\r\n\t⑤:请求失败函数\r\n\t⑥:为this的指向\r\n\t\r\n\t请求成功的函数  即④为函数  里面可传参数:\r\n\t\t'context'有参数 ,则返回为context/data/response   \r\n\tdata为返回数据  可直接拿到 response为返回的所有  也可直接拿到\r\n\t\r\n\t请求失败的函数  即⑤为函数  里面可传参数:\r\n\t\t'context'有参数 ,则返回为context/data/response   \r\n\tdata为返回数据  可直接拿到 response为返回的所有  也可直接拿到\r\n\t\r\n\t\r\n\t\r\n\t返回数据可在成功函数直接console.log(data);\r\n*/\r\n\r\nconst request = {\r\n\tajax: parameter =>{\r\n\t\tvar that = {\r\n\t\t\tdata:{}\r\n\t\t};\r\n\t\tvar data = null;\r\n\t\tvar instanceId ='25fde536-4a9c-432c-80df-795ab6cf57ef';\r\n\t\tif(!parameter.url){\r\n\t\t\tthrow \"require url\";\r\n\t\t}\r\n\t\tthat.url = parameter.url;\r\n\t\tthat.type = parameter.type ? parameter.type : 'GET';\r\n\t\tthat.data = parameter.data ? parameter.data : null;\r\n\t\tif(parameter.status){\r\n\t\t\tthat.status = parameter.status;\r\n\t\t\tthat.status.headers.instance_id = instanceId;\r\n\t\t}else{\r\n\t\t\tthat.status= {\r\n\t\t\t\theaders: {\r\n\t         \t\tinstance_id: instanceId,\r\n\t         \t\taccess_token: 'V1_8640a4ce7c3f4852803bf50136b9fd31_25fde536-4a9c-432c-80df-795ab6cf57ef_2614_2_2016-08-12T08:58:16+0000'\r\n\t         \t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar successFn = function(response){\r\n\t\t\tvar data = response.data;\r\n\t\t\tvar context = parameter.context ? parameter.context : null;\r\n\t\t\tif(context){\r\n\t\t\t\tparameter.success.call(context,data,response);\r\n\t\t\t}else{\r\n\t\t\t\tparameter.success(data,response);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\tvar errorFn = function(response){\r\n\t\t\tvar status = response.status;\r\n\t\t\tvar statusText = response.statusText;\r\n\t\t\tconsole.log('status==='+status+'  statusText============'+statusText)\r\n\t\t\tvar context = parameter.context ? parameter.context : null;\r\n\t\t\tvar errorFnExists = parameter.error ? true : false;\r\n\t\t\tif(errorFnExists){\r\n\t\t\t\tif(context){\r\n\t\t\t\t\tparameter.error.call(context,response,status,statusText);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tparameter.error(data,response,status,statusText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\tif(that.type.toUpperCase() == 'GET'){\r\n\t\t\tVue.http.get(that.url,that.data,that.status).then(successFn,errorFn);\r\n\t\t}\r\n\t\tif(that.type.toUpperCase() == 'POST'){\r\n\t\t\tVue.http.post(that.url,that.data,that.status).then(successFn,errorFn);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default {\r\n\trequest\r\n}\r\nexport {\r\n\trequest\r\n}\r\n"]}