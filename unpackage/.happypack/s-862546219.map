{"version":3,"sources":["src\\static\\js\\mui.lazyload.img.js"],"names":[],"mappings":"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","file":"mui.lazyload.img.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/jxddH5PlusApp/unpackage","sourcesContent":["(function($, window, document) {\n\tvar ImageLazyload = $.Lazyload.extend({\n\t\tinit: function(element, options) {\n\t\t\tthis._super(element, options);\n\t\t},\n\t\t_init: function() {\n\t\t\tthis.options.selector = '[data-lazyload]';\n\t\t\tthis._super();\n\t\t},\n\t\t_set: function(element, uri) {\n\t\t\tif (element.tagName === 'IMG') {\n\t\t\t\telement.src = uri;\n\t\t\t} else {\n\t\t\t\telement.style.backgroundImage = \"url(\" + uri + \")\";\n\t\t\t}\n\t\t},\n\t\t_hasPlaceholder: function(element) {\n\t\t\tif (element.offsetWidth) {\n\t\t\t\tif (element.tagName === 'IMG') {\n\t\t\t\t\treturn !!element.src;\n\t\t\t\t} else {\n\t\t\t\t\treturn !!element.style.backgroundImage;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t_addPlaceHolder: function(element) {\n\t\t\tvar self = this;\n\t\t\tif (element.tagName === 'IMG') {\n\t\t\t\tself._counter++;\n\t\t\t\telement.onload = function() {\n\t\t\t\t\tself._counter--;\n\t\t\t\t\tself.addCallback(element, self.handle);\n\t\t\t\t\tthis.onload = null;\n\t\t\t\t};\n\t\t\t\tself.onPlaceHolder(function(placeholder) {\n\t\t\t\t\tself._set(element, placeholder);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\telement.style.backgroundImage = \"url(\" + self.options.placeholder + \")\";\n\t\t\t}\n\t\t},\n\t\taddElement: function(element) {\n\t\t\tvar self = this;\n\t\t\tvar uri = element.getAttribute('data-lazyload');\n\t\t\tif (uri) {\n\t\t\t\tif (self._hasPlaceholder(element)) {\n\t\t\t\t\tself.addCallback(element, self.handle);\n\t\t\t\t} else {\n\t\t\t\t\tself.onPlaceHolder = self._createLoader(function(callback) {\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\tvar placeholder = self.options.placeholder;\n\t\t\t\t\t\timg.src = placeholder;\n\t\t\t\t\t\timg.onload = img.onerror = function() {\n\t\t\t\t\t\t\tcallback(placeholder);\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\tself._addPlaceHolder(element);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function(element, uri) {\n\t\t\tvar self = this;\n\t\t\tvar img = new Image();\n\t\t\timg.onload = function() {\n\t\t\t\tself._set(element, uri);\n\t\t\t\t$.trigger(self.element, 'success', {\n\t\t\t\t\telement: element,\n\t\t\t\t\turi: uri\n\t\t\t\t});\n\t\t\t};\n\t\t\timg.onerror = function() {\n\t\t\t\t$.trigger(self.element, 'error', {\n\t\t\t\t\telement: element,\n\t\t\t\t\turi: uri\n\t\t\t\t});\n\t\t\t};\n\t\t\timg.src = uri;\n\t\t\telement.removeAttribute('data-lazyload'); //只尝试一次，后续可能支持多次尝试\n\t\t},\n\t\thandle: function(element, key) {\n\t\t\tvar uri = element.getAttribute('data-lazyload');\n\t\t\tif (uri) {\n\t\t\t\tthis.set(element, uri);\n\t\t\t\t//element.parentNode.parentNode.setAttribute('data-lazyload', 'true'); //debug\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tthis._super();\n\t\t\tthis.element.removeAttribute('data-imageLazyload');\n\t\t}\n\n\t});\n\t$.fn.imageLazyload = function(options) {\n\t\tvar lazyloadApis = [];\n\t\tthis.each(function() {\n\t\t\tvar self = this;\n\t\t\tvar lazyloadApi = null;\n\t\t\tif (self === document || self === window) {\n\t\t\t\tself = document.body;\n\t\t\t}\n\t\t\tvar id = self.getAttribute('data-imageLazyload');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = lazyloadApi = new ImageLazyload(self, options);\n\t\t\t\tself.setAttribute('data-imageLazyload', id);\n\t\t\t} else {\n\t\t\t\tlazyloadApi = $.data[id];\n\t\t\t}\n\t\t\tlazyloadApis.push(lazyloadApi);\n\t\t});\n\t\treturn lazyloadApis.length === 1 ? lazyloadApis[0] : lazyloadApis;\n\t}\n})(mui, window, document);"]}