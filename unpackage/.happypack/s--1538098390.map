{"version":3,"sources":["src\\static\\js\\mui.pullToRefresh.js"],"names":["$","window","document","STATE_BEFORECHANGEOFFSET","STATE_AFTERCHANGEOFFSET","EVENT_PULLSTART","EVENT_PULLING","EVENT_BEFORECHANGEOFFSET","EVENT_AFTERCHANGEOFFSET","EVENT_DRAGENDAFTERCHANGEOFFSET","CLASS_TRANSITIONING","className","CLASS_PULL_TOP_TIPS","CLASS_PULL_DOWN_TIPS","CLASS_PULL_BOTTOM_TIPS","CLASS_PULL_LOADING","CLASS_SCROLL","CLASS_PULL_TOP_ARROW","CLASS_PULL_TOP_ARROW_REVERSE","CLASS_PULL_TOP_SPINNER","CLASS_HIDDEN","SCROLL_Y","SELECTOR_PULL_LOADING","currentWebview","firstLoad","mui","plusReady","plus","webview","PullToRefresh","Class","extend","init","element","options","scroll","parentNode","down","auto","height","offset","callback","pullDownTipStyle","contentdefault","contentdragdown","contentloading","tipColor","up","show","contentdown","contentrefresh","contentnomore","preventDefaultException","tagName","stopped","isNeedRefresh","isDragging","state","isInScroll","classList","contains","isFunction","initGotoTopB","initPullUpTips","initPullDownTopTips","initEvent","style","minHeight","backgroundColor","sef","gotoTopB","createElement","id","display","position","right","bottom","width","fontSize","borderRadius","lineHeight","color","zIndex","background","opacity","border","innerHTML","addEventListener","scrollTo","appendChild","querySelector","add","top","topTipIcon","topTipText","webkitTransition","webkitTransform","_preventDefaultException","el","exceptions","i","test","EVENT_START","pullUpTips","scrollId","getAttribute","scrollApi","data","y","Math","abs","scrollHeight","dealTopTip","e","innerText","handleEvent","type","_dragend","_transitionEnd","_dragup","initPullDownTips","self","pullDownTips","removeChild","pullDownTipsIcon","body","paddingBottom","pullUpTipsIcon","target","removing","removePullDownTips","loading","detail","gestures","session","drag","isDraggingUp","_canPullUp","pullUpLoading","maxScrollY","pageYOffset","innerHeight","documentElement","_canPullDown","scrollTop","_drag","stopPropagation","gesture","preventDefault","direction","startDeltaY","deltaY","lockDirection","startDirection","_pullStart","min","_pulling","os","ios","parseFloat","version","clientY","touches","_dragEndAfterChangeOffset","isPullingUp","pullingUpTimeout","clearTimeout","setTimeout","pullStart","trigger","api","pulling","_beforeChangeOffset","beforeChangeOffset","_afterChangeOffset","afterChangeOffset","dragEndAfterChangeOffset","pullDownLoading","endPullDownToRefresh","addMask","webkitAnimation","apply","finished","remove","delMask","endPullUpToRefresh","removeEventListener","refresh","parent","setStyle","mask","setStopped","isReset","fn","pullToRefresh","pullRefreshApis","each","pullRefreshApi","uuid","setAttribute","push","length"],"mappings":"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","file":"mui.pullToRefresh.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/appTemplate/unpackage","sourcesContent":["(function($, window, document) {\n    var STATE_BEFORECHANGEOFFSET = 'beforeChangeOffset';\n    var STATE_AFTERCHANGEOFFSET = 'afterChangeOffset';\n\n    var EVENT_PULLSTART = 'pullstart';\n    var EVENT_PULLING = 'pulling';\n    var EVENT_BEFORECHANGEOFFSET = STATE_BEFORECHANGEOFFSET;\n    var EVENT_AFTERCHANGEOFFSET = STATE_AFTERCHANGEOFFSET;\n    var EVENT_DRAGENDAFTERCHANGEOFFSET = 'dragEndAfterChangeOffset';\n\n    var CLASS_TRANSITIONING = $.className('transitioning');\n    var CLASS_PULL_TOP_TIPS = $.className('pull-top-tips');\n    var CLASS_PULL_DOWN_TIPS = $.className('pull-down-tips');\n    var CLASS_PULL_BOTTOM_TIPS = $.className('pull-bottom-tips');\n    var CLASS_PULL_LOADING = $.className('pull-loading');\n    var CLASS_SCROLL = $.className('scroll');\n\n    var CLASS_PULL_TOP_ARROW = $.className('pull-loading') + ' ' + $.className('icon') + ' ' + $.className('icon-pulldown');\n    var CLASS_PULL_TOP_ARROW_REVERSE = CLASS_PULL_TOP_ARROW + ' ' + $.className('reverse');\n    var CLASS_PULL_TOP_SPINNER = $.className('pull-loading') + ' ' + $.className('spinner');\n    var CLASS_HIDDEN = $.className('hidden');\n    var SCROLL_Y = 0;\n\n    var SELECTOR_PULL_LOADING = '.' + CLASS_PULL_LOADING;\n    var currentWebview = null;\n    var firstLoad = true;\n    mui.plusReady(function() {\n        currentWebview = plus.webview.currentWebview();\n    });\n\n    $.PullToRefresh = $.Class.extend({\n        init: function(element, options) {\n            this.element = element;\n            this.scroll = mui(this.element.parentNode).scroll();\n            this.options = $.extend(true, {\n                down: {\n                    auto: false,\n                    height: 75,\n                    offset: 50,\n                    callback: false,\n                    pullDownTipStyle: 'topLoading',//pullDownTips和topLoading两个值\n                    contentdefault: '下拉可以刷新',\n                    contentdragdown: '释放立即刷新',\n                    contentloading: '正在刷新...',\n                    tipColor: '#777777'\n                },\n                up: {\n                    auto: false,\n                    offset: 50, // 距离底部高度(到达该高度即触发)\n                    show: true,\n                    contentdown: '上拉显示更多',\n                    contentrefresh: '正在加载...',\n                    contentnomore: '没有更多数据了',\n                    callback: false\n                },\n                preventDefaultException: {\n                    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/\n                }\n            }, options);\n            this.stopped = this.isNeedRefresh = this.isDragging = false;\n            this.state = STATE_BEFORECHANGEOFFSET;\n            this.isInScroll = this.element.classList.contains(CLASS_SCROLL);\n            $.isFunction(this.options.up.callback) && this.initGotoTopB();\n            this.initPullUpTips();\n            this.initPullDownTopTips();\n            this.initEvent();\n            this.element.style.minHeight = '101%';\n            this.element.style.backgroundColor = '#f3f5f7';\n        },\n        initGotoTopB: function() {\n            var sef = this;\n            var gotoTopB = document.createElement('div');\n            gotoTopB.id= 'gotoTopB';\n            gotoTopB.style.display = 'none';\n            gotoTopB.style.position = 'absolute';\n            gotoTopB.style.right = '10px';\n            gotoTopB.style.bottom = '10px';\n            gotoTopB.style.height = '40px';\n            gotoTopB.style.width = '40px';\n            gotoTopB.style.fontSize = '20px';\n            gotoTopB.style.borderRadius = '20px';\n            gotoTopB.style.lineHeight = '35px';\n            gotoTopB.style.color = '#000000';\n            gotoTopB.style.zIndex = '2';\n            gotoTopB.style.background = '#ffffff';\n            gotoTopB.style.opacity = '0.6';\n            gotoTopB.style.border = '1px solid #666666';\n            gotoTopB.innerHTML = '<span class=\"icon-fanhuidingbu jxddicon\" style=\"margin-left: 9px\"></span>';\n            gotoTopB.addEventListener('tap', function() {\n                sef.scroll.scrollTo(0, 0, 300);\n            });\n            this.element.parentNode.appendChild(gotoTopB);\n        },\n        initPullDownTopTips: function() {\n            if ($.isFunction(this.options.down.callback)) {\n                var element = this.element.querySelector('.' + CLASS_PULL_DOWN_TIPS);\n                if (!element) {\n                    element = document.createElement('div');\n                    element.classList.add(CLASS_PULL_DOWN_TIPS);\n                    element.innerHTML = '<div class=\"mui-pull\"><div id=\"topTipIcon\" class=\"mui-pull-loading mui-icon mui-icon-pulldown\"></div><div id=\"topTipText\" class=\"mui-pull-caption\">' + this.options.down.contentdefault + '</div></div>';\n                    element.style.height = '40px';\n                    element.style.width = '100%';\n                    element.style.position = 'absolute';\n                    element.style.top = '-40px';\n                    var topTipIcon = element.querySelector('#topTipIcon');\n                    var topTipText = element.querySelector('#topTipText');\n                    topTipIcon.style.webkitTransition = '-webkit-transform 0.3s ease-in';\n                    topTipIcon.style.webkitTransform = 'rotate(0deg)';\n                    topTipIcon.style.color = this.options.down.tipColor;\n                    topTipText.style.color = this.options.down.tipColor;\n                    this.element.appendChild(element);\n                }\n            }\n        },\n        _preventDefaultException: function(el, exceptions) {\n            for (var i in exceptions) {\n                if (exceptions[i].test(el[i])) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        initEvent: function() {\n            if ($.isFunction(this.options.down.callback)) {\n                this.element.addEventListener($.EVENT_START, this);\n                this.element.addEventListener('drag', this);\n                this.element.addEventListener('dragend', this);\n            }\n            if (this.pullUpTips) {\n                this.element.addEventListener('dragup', this);\n                if (this.isInScroll) {\n                    this.element.addEventListener('scrollbottom', this);\n                } else {\n                    window.addEventListener('scroll', this);\n                }\n            }\n            if($.isFunction(this.options.up.callback)) {\n                var sef = this;\n                this.element.addEventListener('scroll', function() {\n                    \n                    var scrollId = sef.element.parentNode.getAttribute('data-scroll');\n                    var scrollApi = $.data[scrollId];\n                    if(scrollApi.y < 0 && Math.abs(scrollApi.y) > sef.element.parentNode.scrollHeight/3) {\n                        sef.element.parentNode.querySelector('#gotoTopB').style.display = 'inline';\n                    }\n                    else {\n                        sef.element.parentNode.querySelector('#gotoTopB').style.display = 'none';\n                    }\n                });\n            }\n        },\n        dealTopTip: function(e) {\n            var scrollId = this.element.parentNode.getAttribute('data-scroll');\n            var scrollApi = $.data[scrollId];\n            SCROLL_Y = scrollApi.y;\n            var element = this.element.querySelector('.' + CLASS_PULL_DOWN_TIPS);\n            var topTipIcon = element.querySelector('.mui-pull-loading');\n            var topTipText = element.querySelector('.mui-pull-caption');\n            if (SCROLL_Y >= this.options.down.offset) {\n                topTipIcon.style.webkitTransform = 'rotate(180deg)';\n                topTipText.innerText = this.options.down.contentdragdown;\n            } else {\n                topTipIcon.style.webkitTransform = 'rotate(0deg)';\n                topTipText.innerText = this.options.down.contentdefault;\n            }\n        },\n        handleEvent: function(e) {\n            switch (e.type) {\n        /* case $.EVENT_START:\n        \tthis.isInScroll && this._canPullDown() && e.target && !this._preventDefaultException(e.target, this.options.preventDefaultException) && e.preventDefault();\n        \tbreak;*/\n        /* case 'drag':\n        \tthis._drag(e);\n        \tbreak;*/\n            case 'drag':\n                this.dealTopTip(e);\n                break;\n            case 'dragend':\n                this._dragend(e);\n                break;\n            case 'webkitTransitionEnd':\n                this._transitionEnd(e);\n                break;\n            case 'dragup':\n          /* case 'scroll':*/\n                this._dragup(e);\n                break;\n      /* case 'scrollbottom':\n      \tthis.pullUpLoading(e);\n      \tbreak;*/\n            }\n        },\n        initPullDownTips: function() {\n            var self = this;\n            if ($.isFunction(self.options.down.callback)) {\n                self.pullDownTips = (function() {\n                    var element = document.querySelector('.' + CLASS_PULL_TOP_TIPS);\n                    if (element) {\n                        element.parentNode.removeChild(element);\n                    }\n                    if (!element) {\n                        element = document.createElement('div');\n                        element.classList.add(CLASS_PULL_TOP_TIPS);\n                        element.innerHTML = '<div class=\"mui-pull-top-wrapper\"><span class=\"mui-pull-loading mui-icon mui-icon-pulldown\"></span></div>';\n                        element.addEventListener('webkitTransitionEnd', self);\n                    }\n                    self.pullDownTipsIcon = element.querySelector(SELECTOR_PULL_LOADING);\n                    document.body.appendChild(element);\n                    return element;\n                }());\n            }\n        },\n        initPullUpTips: function() {\n            var self = this;\n            if ($.isFunction(self.options.up.callback)) {\n                self.pullUpTips = (function() {\n                    var element = self.element.querySelector('.' + CLASS_PULL_BOTTOM_TIPS);\n                    if (!element) {\n                        element = document.createElement('div');\n                        element.classList.add(CLASS_PULL_BOTTOM_TIPS);\n                        if (!self.options.up.show) {\n                            element.classList.add(CLASS_HIDDEN);\n                        }\n                        element.innerHTML = '<div class=\"mui-pull-bottom-wrapper\"><span class=\"mui-pull-loading\">' + self.options.up.contentdown + '</span></div>';\n                        self.element.style.paddingBottom = '41px';\n                        element.style.position = 'absolute';\n                        element.style.bottom = '0';\n                        element.style.width = '100%';\n                        self.element.appendChild(element);\n                    }\n                    self.pullUpTipsIcon = element.querySelector(SELECTOR_PULL_LOADING);\n                    return element;\n                }());\n            }\n        },\n        _transitionEnd: function(e) {\n            if (e.target === this.pullDownTips && this.removing) {\n                this.removePullDownTips();\n            }\n        },\n        _dragup: function(e) {\n            var self = this;\n            if (self.loading) {\n                return;\n            }\n            if (e && e.detail && $.gestures.session.drag) {\n                self.isDraggingUp = true;\n            } else {\n                if (!self.isDraggingUp) { // scroll event\n                    return;\n                }\n            }\n            if (!self.isDragging) {\n                if (self._canPullUp()) {\n                    self.pullUpLoading(e);\n                }\n            }\n        },\n        _canPullUp: function() {\n      /* if (this.removing) {\n      \treturn false;\n      }*/\n            if (this.isInScroll) {\n                var scrollId = this.element.parentNode.getAttribute('data-scroll');\n                if (scrollId) {\n                    var scrollApi = $.data[scrollId];\n                    return Math.abs(scrollApi.y) - Math.abs(scrollApi.maxScrollY) > this.options.up.offset;\n                }\n            }\n            return window.pageYOffset + window.innerHeight + this.options.up.offset >= document.documentElement.scrollHeight;\n        },\n        _canPullDown: function() {\n            if (this.removing) {\n                return false;\n            }\n            if (this.isInScroll) {\n                var scrollId = this.element.parentNode.getAttribute('data-scroll');\n                if (scrollId) {\n                    var scrollApi = $.data[scrollId];\n                    return scrollApi.y === 0;\n                }\n            }\n            return document.body.scrollTop === 0;\n        },\n        _drag: function(e) {\n            if (this.loading || this.stopped) {\n                e.stopPropagation();\n                e.detail.gesture.preventDefault();\n                return;\n            }\n            var detail = e.detail;\n            if (!this.isDragging) {\n                if (detail.direction === 'down' && this._canPullDown()) {\n                    if (document.querySelector('.' + CLASS_PULL_TOP_TIPS)) {\n                        e.stopPropagation();\n                        e.detail.gesture.preventDefault();\n                        return;\n                    }\n                    this.isDragging = true;\n                    this.removing = false;\n                    this.startDeltaY = detail.deltaY;\n                    $.gestures.session.lockDirection = true; // 锁定方向\n                    $.gestures.session.startDirection = detail.direction;\n                    this._pullStart(this.startDeltaY);\n                }\n            }\n            if (this.isDragging) {\n                e.stopPropagation();\n                e.detail.gesture.preventDefault();\n                var deltaY = detail.deltaY - this.startDeltaY;\n                deltaY = Math.min(deltaY, 1.5 * this.options.down.height);\n                this.deltaY = deltaY;\n                this._pulling(deltaY);\n                var state = deltaY > this.options.down.height ? STATE_AFTERCHANGEOFFSET : STATE_BEFORECHANGEOFFSET;\n                if (this.state !== state) {\n                    this.state = state;\n                    if (this.state === STATE_AFTERCHANGEOFFSET) {\n                        this.removing = false;\n                        this.isNeedRefresh = true;\n                    } else {\n                        this.removing = true;\n                        this.isNeedRefresh = false;\n                    }\n                    this['_' + state](deltaY);\n                }\n                if ($.os.ios && parseFloat($.os.version) >= 8) {\n                    var clientY = detail.gesture.touches[0].clientY;\n                    if ((clientY + 10) > window.innerHeight || clientY < 10) {\n                        this._dragend(e);\n                        return;\n                    }\n                }\n            }\n        },\n        _dragend: function(e) {\n            var self = this;\n            if (SCROLL_Y >= self.options.down.offset) {\n                self.isDragging = false;\n                self._dragEndAfterChangeOffset(true);\n            }\n            if (self.isPullingUp) {\n                if (self.pullingUpTimeout) {\n                    clearTimeout(self.pullingUpTimeout);\n                }\n                self.pullingUpTimeout = setTimeout(function() {\n                    self.isPullingUp = false;\n                }, 1000);\n            }\n        },\n        _pullStart: function(startDeltaY) {\n            this.pullStart(startDeltaY);\n            $.trigger(this.element, EVENT_PULLSTART, {\n                api: this,\n                startDeltaY: startDeltaY\n            });\n        },\n        _pulling: function(deltaY) {\n            this.pulling(deltaY);\n            $.trigger(this.element, EVENT_PULLING, {\n                api: this,\n                deltaY: deltaY\n            });\n        },\n        _beforeChangeOffset: function(deltaY) {\n            this.beforeChangeOffset(deltaY);\n            $.trigger(this.element, EVENT_BEFORECHANGEOFFSET, {\n                api: this,\n                deltaY: deltaY\n            });\n        },\n        _afterChangeOffset: function(deltaY) {\n            this.afterChangeOffset(deltaY);\n            $.trigger(this.element, EVENT_AFTERCHANGEOFFSET, {\n                api: this,\n                deltaY: deltaY\n            });\n        },\n        _dragEndAfterChangeOffset: function(isNeedRefresh) {\n            this.dragEndAfterChangeOffset(isNeedRefresh);\n            $.trigger(this.element, EVENT_DRAGENDAFTERCHANGEOFFSET, {\n                api: this,\n                isNeedRefresh: isNeedRefresh\n            });\n        },\n        removePullDownTips: function() {\n            if (this.pullDownTips) {\n                try {\n                    this.pullDownTips.parentNode && this.pullDownTips.parentNode.removeChild(this.pullDownTips);\n                    this.pullDownTips = null;\n                    this.removing = false;\n                } catch (e) {}\n            }\n        },\n        pullStart: function(startDeltaY) {\n            this.initPullDownTips(startDeltaY);\n        },\n        pulling: function(deltaY) {\n            this.pullDownTips.style.webkitTransform = 'translate3d(0,' + deltaY + 'px,0)';\n        },\n        beforeChangeOffset: function(deltaY) {\n            this.pullDownTipsIcon.className = CLASS_PULL_TOP_ARROW;\n        },\n        afterChangeOffset: function(deltaY) {\n            this.pullDownTipsIcon.className = CLASS_PULL_TOP_ARROW_REVERSE;\n        },\n        dragEndAfterChangeOffset: function(isNeedRefresh) {\n            if (isNeedRefresh) {\n                this.pullDownLoading();\n                if (this.pullDownTipsIcon) {\n                    this.pullDownTipsIcon.className = CLASS_PULL_TOP_SPINNER;\n                }\n            } else {\n                this.pullDownTipsIcon.className = CLASS_PULL_TOP_ARROW;\n                this.endPullDownToRefresh();\n            }\n        },\n        pullDownLoading: function() {\n            if (this.loading) {\n                return;\n            }\n            if (!this.pullDownTips && this.options.down.pullDownTipStyle === 'pullDownTips') {\n                this.initPullDownTips();\n                this.dragEndAfterChangeOffset(true);\n                return;\n            }\n            else {\n                this.scroll.scrollTo(0, 40, 100);\n                this.scroll.stopped = true;\n            }\n            this.loading = true;\n            this.addMask();\n            if (this.pullDownTips && this.options.down.pullDownTipStyle === 'pullDownTips') {\n                this.pullDownTips.classList.add(CLASS_TRANSITIONING);\n                this.pullDownTips.style.webkitTransform = 'translate3d(0,' + this.options.down.height + 'px,0)';\n            }\n            else {\n                var topTipIcon = this.element.querySelector('#topTipIcon');\n                topTipIcon.className = this.options.down.tipColor === '#ffffff' ? 'mui-pull-loading loading-white' : 'mui-pull-loading loading-default';\n                topTipIcon.style.webkitAnimation = 'spinner-spin 1s step-end infinite';\n                this.element.querySelector('#topTipText').innerText = this.options.down.contentloading;\n            }\n            this.options.down.callback.apply(this);\n        },\n        pullUpLoading: function(e) {\n            if (this.loading || this.finished) {\n                return;\n            }\n            this.loading = true;\n            this.addMask();\n            this.isDraggingUp = false;\n            this.pullUpTips.classList.remove(CLASS_HIDDEN);\n            e && e.detail && e.detail.gesture && e.detail.gesture.preventDefault();\n            this.pullUpTipsIcon.innerHTML = this.options.up.contentrefresh;\n            this.options.up.callback.apply(this);\n        },\n        endPullDownToRefresh: function() {\n            this.loading = false;\n            var self = this;\n            setTimeout(function() {\n                self.scroll.scrollTo(0, 0, 500);\n                self.scroll.stopped = false;\n            }, 300);\n            this.pullUpTips && this.pullUpTips.classList.remove(CLASS_HIDDEN);\n            if (this.pullDownTips && this.options.down.pullDownTipStyle === 'pullDownTips') {\n                this.pullDownTips.classList.add(CLASS_TRANSITIONING);\n                this.pullDownTips.style.webkitTransform = 'translate3d(0,0,0)';\n            }\n            else {\n                var topTipIcon = this.element.querySelector('#topTipIcon');\n                var topTipText = this.element.querySelector('#topTipText');\n                \n                topTipIcon.style.webkitTransition = '-webkit-transform 0s ease-in';\n                topTipIcon.style.webkitTransform = 'rotate(0deg)';\n                topTipIcon.className = 'mui-pull-loading jxddicon icon-caozuochenggong';\n                topTipIcon.style.webkitAnimation = '';\n                topTipText.innerText = '操作成功 .';\n                \n                setTimeout(function() {\n                    topTipIcon.className = 'mui-pull-loading mui-icon mui-icon-pulldown';\n                    topTipText.innerText = self.options.down.contentdefault;\n                    topTipIcon.style.webkitTransition = '-webkit-transform 0.3s ease-in';\n                }, 800);\n            }\n            if (this.deltaY <= 0) {\n                this.removePullDownTips();\n            } else {\n                this.removing = true;\n            }\n            setTimeout(this.delMask, 100);\n        },\n        endPullUpToRefresh: function(finished) {\n            if (finished) {\n                this.finished = true;\n                this.pullUpTipsIcon.innerHTML = this.options.up.contentnomore;\n                this.element.removeEventListener('dragup', this);\n                window.removeEventListener('scroll', this);\n            } else {\n                this.pullUpTipsIcon.innerHTML = this.options.up.contentdown;\n            }\n            this.loading = false;\n            if (this.isInScroll) {\n                $(this.element.parentNode).scroll().refresh();\n            }\n            setTimeout(this.delMask, 100);\n        },\n        addMask: function() {\n            if (currentWebview != null) {\n                if (currentWebview.parent()) {\n                    if (!firstLoad) {\n                        currentWebview.parent().setStyle({\n                            mask: 'rgba(0,0,0,0)'\n                        });\n                        currentWebview.show();\n                    }\n                } else {\n                    currentWebview.setStyle({\n                        mask: 'rgba(0,0,0,0)'\n                    });\n                }\n            }\n        },\n        delMask: function() {\n            if (currentWebview.parent()) {\n                if (!firstLoad) {\n                    currentWebview.parent().setStyle({\n                        mask: 'none'\n                    });\n                    currentWebview.show();\n                } else {\n                    firstLoad = false;\n                }\n            } else {\n                currentWebview.setStyle({\n                    mask: 'none'\n                });\n            }\n        },\n        setStopped: function(stopped) {\n            if (stopped !== this.stopped) {\n                this.stopped = stopped;\n                this.pullUpTips && this.pullUpTips.classList[stopped ? 'add' : 'remove'](CLASS_HIDDEN);\n            }\n        },\n        refresh: function(isReset) {\n            if (isReset && this.finished && this.pullUpTipsIcon) {\n                this.pullUpTipsIcon.innerHTML = this.options.up.contentdown;\n                this.element.addEventListener('dragup', this);\n                window.addEventListener('scroll', this);\n                this.finished = false;\n            }\n        }\n    });\n    $.fn.pullToRefresh = function(options) {\n        var pullRefreshApis = [];\n        options = options || {};\n        this.each(function() {\n            var self = this;\n            var pullRefreshApi = null;\n            var id = self.getAttribute('data-pullToRefresh');\n            if (!id) {\n                id = ++$.uuid;\n                $.data[id] = pullRefreshApi = new $.PullToRefresh(self, options);\n                self.setAttribute('data-pullToRefresh', id);\n            } else {\n                pullRefreshApi = $.data[id];\n            }\n            if (options.up && options.up.auto) { // 如果设置了auto，则自动上拉一次\n                pullRefreshApi.pullUpLoading();\n            }\n            if (options.down && options.down.auto) { // 如果设置了auto，则自动上拉一次\n                pullRefreshApi.pullDownLoading();\n            }\n            pullRefreshApis.push(pullRefreshApi);\n        });\n        return pullRefreshApis.length === 1 ? pullRefreshApis[0] : pullRefreshApis;\n    };\n})(mui, window, document);\n"]}