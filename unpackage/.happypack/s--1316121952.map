{"version":3,"sources":["src\\static\\js\\mui.lazyload.js"],"names":[],"mappings":"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","file":"mui.lazyload.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/jxddH5PlusApp/unpackage","sourcesContent":["(function($, window, document) {\n\tvar mid = 0;\n\t$.Lazyload = $.Class.extend({\n\t\tinit: function(element, options) {\n\t\t\tvar self = this;\n\t\t\tthis.container = this.element = element;\n//\t\t\tplaceholder //默认图片\n\t\t\tthis.options = $.extend({\n\t\t\t\tselector: '',//查询哪些元素需要lazyload\n\t\t\t\tdiff: false,//距离视窗底部多少像素出发lazyload\n\t\t\t\tforce: false,//强制加载(不论元素是否在是视窗内)\n\t\t\t\tautoDestroy: true,//元素加载完后是否自动销毁当前插件对象\n\t\t\t\tduration: 100//滑动停止多久后开始加载\n\t\t\t}, options);\n\n\t\t\tthis._key = 0;\n\t\t\tthis._containerIsNotDocument = this.container.nodeType !== 9;\n\t\t\tthis._callbacks = {};\n\n\t\t\tthis._init();\n\t\t},\n\t\t_init: function() {\n\t\t\tthis._initLoadFn();\n\n\t\t\tthis.addElements();\n\n\t\t\tthis._loadFn();\n\n\t\t\t$.ready(function() {\n\t\t\t\tthis._loadFn();\n\t\t\t}.bind(this));\n\n\t\t\tthis.resume();\n\t\t},\n\t\t_initLoadFn: function() {\n\t\t\tvar self = this;\n\t\t\tself._loadFn = this._buffer(function() { // 加载延迟项\n\t\t\t\tif (self.options.autoDestroy && self._counter == 0 && $.isEmptyObject(self._callbacks)) {\n\t\t\t\t\tself.destroy();\n\t\t\t\t}\n\t\t\t\tself._loadItems();\n\t\t\t}, self.options.duration, self);\n\t\t},\n\t\t/**\n\t\t *根据加载函数实现加载器\n\t\t *@param {Function} load 加载函数\n\t\t *@returns {Function} 加载器\n\t\t */\n\t\t_createLoader: function(load) {\n\t\t\tvar value, loading, handles = [],\n\t\t\t\th;\n\t\t\treturn function(handle) {\n\t\t\t\tif (!loading) {\n\t\t\t\t\tloading = true;\n\t\t\t\t\tload(function(v) {\n\t\t\t\t\t\tvalue = v;\n\t\t\t\t\t\twhile (h = handles.shift()) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\th && h.apply(null, [value]);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\tthrow e;\n\t\t\t\t\t\t\t\t}, 0)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (value) {\n\t\t\t\t\thandle && handle.apply(null, [value]);\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\thandle && handles.push(handle);\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\t_buffer: function(fn, ms, context) {\n\t\t\tvar timer;\n\t\t\tvar lastStart = 0;\n\t\t\tvar lastEnd = 0;\n\t\t\tvar ms = ms || 150;\n\n\t\t\tfunction run() {\n\t\t\t\tif (timer) {\n\t\t\t\t\ttimer.cancel();\n\t\t\t\t\ttimer = 0;\n\t\t\t\t}\n\t\t\t\tlastStart = $.now();\n\t\t\t\tfn.apply(context || this, arguments);\n\t\t\t\tlastEnd = $.now();\n\t\t\t}\n\n\t\t\treturn $.extend(function() {\n\t\t\t\tif (\n\t\t\t\t\t(!lastStart) || // 从未运行过\n\t\t\t\t\t(lastEnd >= lastStart && $.now() - lastEnd > ms) || // 上次运行成功后已经超过ms毫秒\n\t\t\t\t\t(lastEnd < lastStart && $.now() - lastStart > ms * 8) // 上次运行或未完成，后8*ms毫秒\n\t\t\t\t) {\n\t\t\t\t\trun();\n\t\t\t\t} else {\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t}\n\t\t\t\t\ttimer = $.later(run, ms, null, arguments);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\tstop: function() {\n\t\t\t\t\tif (timer) {\n\t\t\t\t\t\ttimer.cancel();\n\t\t\t\t\t\ttimer = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t_getBoundingRect: function(c) {\n\t\t\tvar vh, vw, left, top;\n\n\t\t\tif (c !== undefined) {\n\t\t\t\tvh = c.offsetHeight;\n\t\t\t\tvw = c.offsetWidth;\n\t\t\t\tvar offset = $.offset(c);\n\t\t\t\tleft = offset.left;\n\t\t\t\ttop = offset.top;\n\t\t\t} else {\n\t\t\t\tvh = window.innerHeight;\n\t\t\t\tvw = window.innerWidth;\n\t\t\t\tleft = 0;\n\t\t\t\ttop = window.pageYOffset;\n\t\t\t}\n\n\t\t\tvar diff = this.options.diff;\n\n\t\t\tvar diffX = diff === false ? vw : diff;\n\t\t\tvar diffX0 = 0;\n\t\t\tvar diffX1 = diffX;\n\n\t\t\tvar diffY = diff === false ? vh : diff;\n\t\t\tvar diffY0 = 0;\n\t\t\tvar diffY1 = diffY;\n\n\t\t\tvar right = left + vw;\n\t\t\tvar bottom = top + vh;\n\n\n\t\t\tleft -= diffX0;\n\t\t\tright += diffX1;\n\t\t\ttop -= diffY0;\n\t\t\tbottom += diffY1;\n\t\t\treturn {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\tright: right,\n\t\t\t\tbottom: bottom\n\t\t\t};\n\t\t},\n\t\t_cacheWidth: function(el) {\n\t\t\tif (el._mui_lazy_width) {\n\t\t\t\treturn el._mui_lazy_width;\n\t\t\t}\n\t\t\treturn el._mui_lazy_width = el.offsetWidth;\n\t\t},\n\t\t_cacheHeight: function(el) {\n\t\t\tif (el._mui_lazy_height) {\n\t\t\t\treturn el._mui_lazy_height;\n\t\t\t}\n\t\t\treturn el._mui_lazy_height = el.offsetHeight;\n\t\t},\n\t\t_isCross: function(r1, r2) {\n\t\t\tvar r = {};\n\t\t\tr.top = Math.max(r1.top, r2.top);\n\t\t\tr.bottom = Math.min(r1.bottom, r2.bottom);\n\t\t\tr.left = Math.max(r1.left, r2.left);\n\t\t\tr.right = Math.min(r1.right, r2.right);\n\t\t\treturn r.bottom >= r.top && r.right >= r.left;\n\t\t},\n\t\t_elementInViewport: function(elem, windowRegion, containerRegion) {\n\t\t\t// display none or inside display none\n\t\t\tif (!elem.offsetWidth) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar elemOffset = $.offset(elem);\n\t\t\tvar inContainer = true;\n\t\t\tvar inWin;\n\t\t\tvar left = elemOffset.left;\n\t\t\tvar top = elemOffset.top;\n\t\t\tvar elemRegion = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\tright: left + this._cacheWidth(elem),\n\t\t\t\tbottom: top + this._cacheHeight(elem)\n\t\t\t};\n\n\t\t\tinWin = this._isCross(windowRegion, elemRegion);\n\n\t\t\tif (inWin && containerRegion) {\n\t\t\t\tinContainer = this._isCross(containerRegion, elemRegion);\n\t\t\t}\n\t\t\t// 确保在容器内出现\n\t\t\t// 并且在视窗内也出现\n\t\t\treturn inContainer && inWin;\n\t\t},\n\t\t_loadItems: function() {\n\t\t\tvar self = this;\n\t\t\t// container is display none\n\t\t\tif (self._containerIsNotDocument && !self.container.offsetWidth) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tself._windowRegion = self._getBoundingRect();\n\n\t\t\tif (self._containerIsNotDocument) {\n\t\t\t\tself._containerRegion = self._getBoundingRect(this.container);\n\t\t\t}\n\t\t\t$.each(self._callbacks, function(key, callback) {\n\t\t\t\tcallback && self._loadItem(key, callback);\n\t\t\t});\n\t\t},\n\t\t_loadItem: function(key, callback) {\n\t\t\tvar self = this;\n\t\t\tcallback = callback || self._callbacks[key];\n\t\t\tif (!callback) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar el = callback.el;\n\t\t\tvar remove = false;\n\t\t\tvar fn = callback.fn;\n\t\t\tif (self.options.force || self._elementInViewport(el, self._windowRegion, self._containerRegion)) {\n\t\t\t\ttry {\n\t\t\t\t\tremove = fn.call(self, el, key);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (remove !== false) {\n\t\t\t\tdelete self._callbacks[key];\n\t\t\t}\n\t\t\treturn remove;\n\t\t},\n\t\taddCallback: function(el, fn) {\n\t\t\tvar self = this;\n\t\t\tvar callbacks = self._callbacks;\n\t\t\tvar callback = {\n\t\t\t\tel: el,\n\t\t\t\tfn: fn || $.noop\n\t\t\t};\n\t\t\tvar key = ++this._key;\n\t\t\tcallbacks[key] = callback;\n\n\t\t\t// add 立即检测，防止首屏元素问题\n\t\t\tif (self._windowRegion) {\n\t\t\t\tself._loadItem(key, callback);\n\t\t\t} else {\n\t\t\t\tself.refresh();\n\t\t\t}\n\t\t},\n\t\taddElements: function(elements) {\n\t\t\tvar self = this;\n\t\t\tself._counter = self._counter || 0;\n\t\t\tvar lazyloads = [];\n\t\t\tif (!elements && self.options.selector) {\n\t\t\t\tlazyloads = self.container.querySelectorAll(self.options.selector);\n\t\t\t} else {\n\t\t\t\t$.each(elements, function(index, el) {\n\t\t\t\t\tlazyloads = lazyloads.concat($.qsa(self.options.selector, el));\n\t\t\t\t});\n\t\t\t}\n\t\t\t$.each(lazyloads, function(index, el) {\n\t\t\t\tif (!el.getAttribute('data-lazyload-id')) {\n\t\t\t\t\tif (self.addElement(el)) {\n\t\t\t\t\t\tel.setAttribute('data-lazyload-id', mid++);\n\t\t\t\t\t\tself.addCallback(el, self.handle);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\taddElement: function(el) {\n\t\t\treturn true;\n\t\t},\n\t\thandle: function() {\n\t\t\t//throw new Error('需子类实现');\n\t\t},\n\t\trefresh: function(check) {\n\t\t\tif (check) { //检查新的lazyload\n\t\t\t\tthis.addElements();\n\t\t\t}\n\t\t\tthis._loadFn();\n\t\t},\n\t\tpause: function() {\n\t\t\tvar load = this._loadFn;\n\t\t\tif (this._destroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.removeEventListener('scroll', load);\n\t\t\twindow.removeEventListener($.EVENT_MOVE, load);\n\t\t\twindow.removeEventListener('resize', load);\n\t\t\tif (this._containerIsNotDocument) {\n\t\t\t\tthis.container.removeEventListener('scrollend', load);\n\t\t\t\tthis.container.removeEventListener('scroll', load);\n\t\t\t\tthis.container.removeEventListener($.EVENT_MOVE, load);\n\t\t\t}\n\t\t},\n\t\tresume: function() {\n\t\t\tvar load = this._loadFn;\n\t\t\tif (this._destroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.addEventListener('scroll', load, false);\n\t\t\twindow.addEventListener($.EVENT_MOVE, load, false);\n\t\t\twindow.addEventListener('resize', load, false);\n\t\t\tif (this._containerIsNotDocument) {\n\t\t\t\tthis.container.addEventListener('scrollend', load, false);\n\t\t\t\tthis.container.addEventListener('scroll', load, false);\n\t\t\t\tthis.container.addEventListener($.EVENT_MOVE, load, false);\n\t\t\t}\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar self = this;\n\t\t\tself.pause();\n\t\t\tself._callbacks = {};\n\t\t\t$.trigger(this.container, 'destroy', self);\n\t\t\tself._destroyed = 1;\n\t\t}\n\t});\n})(mui, window, document);"]}