{"version":3,"sources":["src\\common\\utils.js"],"names":[],"mappings":"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","file":"utils.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/jxddH5PlusApp/unpackage","sourcesContent":["'use strict';\n/*!\n * utils v1.0.0\n * 工具类,提供各种工具方法，会陆续添加\n *\n * Author: liaoxm\n * Date: 2016-06-16\n *\n */\nimport nodeUuid from 'node-uuid';\nimport crypto from 'crypto';\nimport nodeUtil from 'util';\n/**\n * 选择器\n * @param {String} sel   是一个字符串，包含一个或是多个 CSS 选择器 ，多个则以逗号分隔\n * @return {DomObject} 一个 element 对象（DOM 元素）\n * @public\n */\nconst query = sel => {\n    return document.querySelector(sel);\n};\n\n/**\n * 选择器\n * @param {String} sel 一个由逗号连接的包含一个或多个CSS选择器的字符串\n * @return {NodeList} 一个non-live的 NodeList 类型的对象\n * @public\n */\nconst queryAll = sel => {\n    return document.querySelectorAll(sel);\n};\n\n/**\n * 产生一个 v1 (基于时间的) id\n * @return {String} uuid 36位带四个中划线\n * @public\n */\nconst uuid = () => {\n    return nodeUuid.v1(); // -> '6c84fb90-12c4-11e1-840d-7b25c5ee775a'\n};\n\n/**\n * 产生一个 v4 (基于时间的) id\n * @return {String} uuid 36位带四个中划线\n * @public\n */\nconst uuidV4 = () => {\n    return nodeUuid.v4(); // -> '110ec58a-a0f2-4ac4-8393-c866d813b8d1’\n};\n\n/**\n * hash方法\n *\n * @param {String} e.g.: 'md5', 'sha1'\n * @param {String|Buffer} s\n * @param {String} [format] 'hex'，'base64'. default is 'hex'.\n * @return {String} 编码值\n * @private\n */\nconst hash = (method, s, format) => {\n    let sum = crypto.createHash(method);\n    let isBuffer = Buffer.isBuffer(s);\n    if (!isBuffer && typeof s === 'object') {\n        s = JSON.stringify(sortObject(s));\n    }\n    sum.update(s, isBuffer ? 'binary' : 'utf8');\n    return sum.digest(format || 'hex');\n};\n\n/**\n * md5 编码\n *\n * @param {String|Buffer} s\n * @param {String} [format] 'hex'，'base64'. default is 'hex'.\n * @return {String} md5 hash string\n * @public\n */\nconst md5 = (s, format) => {\n    return hash('md5', s, format);\n};\n\n/**\n * sha1 编码\n *\n * @param {String|Buffer} s\n * @param {String} [format] 'hex'，'base64'. default is 'hex'.\n * @return {String} sha1 hash string\n * @public\n */\nconst sha1 = (s, format) => {\n    return hash('sha1', s, format);\n};\n\n/**\n * sha256 编码\n *\n * @param {String|Buffer} s\n * @param {String} [format]  'hex'，'base64'. default is 'hex'.\n * @return {String} sha256 hash string\n * @public\n */\nconst sha256 = (s, format) => {\n    return hash('sha256', s, format);\n};\n\n/**\n * Base64编码.\n *\n * @param {String|Buffer} s 需要编码的字符串\n * @param {Boolean} [urlsafe=false] E是否是url类型，暂时屏蔽.\n * @return {String} base64编码.\n * @public\n */\nconst base64encode = (s /*, urlsafe*/) => {\n    if (!Buffer.isBuffer(s)) {\n        s = new Buffer(s);\n    }\n    let encode = s.toString('base64');\n    let urlsafe = false;\n    if (urlsafe) {\n        encode = encode.replace(/\\+/g, '-').replace(/\\//g, '_');\n    }\n    return encode;\n};\n\n/**\n * Base64字符串解码.\n *\n * @param {String} encode, 需要解码的字符串.\n * @param {Boolean} [urlsafe=false] 是否是url类型，暂时屏蔽.\n * @param {encoding} [encoding=utf8] 字符编码，默认utf8,可选参数\n * @return {String|Buffer}\n * @public\n */\nconst base64decode = (encodeStr /*, urlsafe*/, encoding) => {\n    let urlsafe = false;\n    if (urlsafe) {\n        encodeStr = encodeStr.replace(/\\-/g, '+').replace(/_/g, '/');\n    }\n    let buf = new Buffer(encodeStr, 'base64');\n    if (encoding === 'buffer') {\n        return buf;\n    }\n    return buf.toString(encoding || 'utf8');\n};\n\n/**\n * 对象排序\n * @param {Object} o, 需要排序的对象.\n * @return {Object} 安装key进行排序的对象\n * @public\n */\nconst sortObject = o => {\n    if (!o || Array.isArray(o) || typeof o !== 'object') {\n        return o;\n    }\n    let keys = Object.keys(o);\n    keys.sort();\n    let values = [];\n    for (let i = 0; i < keys.length; i++) {\n        let k = keys[i];\n        values.push([k, sortObject(o[k])]);\n    }\n    return values;\n};\n\n/**\n * @desc 对象克隆\n * @Author yupeng\n * @param {Object} obj  需要克隆的对象.\n * @return {Object} 克隆出来的对象\n * @public\n */\nconst clone = obj => {\n    let o;\n    switch (typeof obj) {\n    case 'undefined':\n        break;\n    case 'string':\n        o = obj + '';\n        break;\n    case 'number':\n        o = obj - 0;\n        break;\n    case 'boolean':\n        o = obj;\n        break;\n    case 'object':\n        if (obj === null) {\n            o = null;\n        } else {\n            if (obj instanceof Array) {\n                o = [];\n                for (let i = 0, len = obj.length; i < len; i++) {\n                    o.push(clone(obj[i]));\n                }\n            } else {\n                o = {};\n                for (let k in obj) {\n                    o[k] = clone(obj[k]);\n                }\n            }\n        }\n        break;\n    default:\n        o = obj;\n        break;\n    }\n    return o;\n};\n\n/**\n * @desc 获取url后面的参数\n * @Author lxm\n * @param {String} url  url串\n * @return {Object} 参数对象\n * @public\n */\nconst urlParam2Map = url => {\n    let param = {};\n    let k,\n        v;\n    url = decodeURIComponent(url);\n    if (url.indexOf('?') !== -1) {\n        url = url.split('?')[1];\n    }\n    url.split('&').map(\n    item => {\n        k = item.split('=')[0];\n        v = item.split('=')[1];\n        param[k] = v;\n    }\n  );\n    return param;\n};\n\n/**\n * 对象转字符串，替代JSON.stringify方法,解决Converting circular structure to JSON\n * @type {Object} obj  需要字符串化的对象\n * @return {String} 字符串\n */\nconst stringify = obj => {\n    return nodeUtil.inspect(obj);\n};\n\n/**\n * 分开导出，用哪个取哪个，引用时需要大括号 ，eg:import {md5,uuid} from 'common/utils',md5('333')\n */\nexport { query, queryAll, uuid, uuidV4, sortObject, base64decode, base64encode, sha256, sha1, md5, clone, urlParam2Map, stringify };\n\n/**\n * 打包导出，会全部引入 ，eg:import utils from 'common/utils'，utils.md5('3333')\n */\nexport default {\n    query,\n    queryAll,\n    uuid,\n    uuidV4,\n    sortObject,\n    base64decode,\n    base64encode,\n    sha256,\n    sha1,\n    md5,\n    clone,\n    urlParam2Map,\n    stringify\n};\n"]}