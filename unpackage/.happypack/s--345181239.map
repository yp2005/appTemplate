{"version":3,"sources":["src\\view\\buyer\\index\\main\\index.js"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"C:/Users/dell/AppData/Roaming/HBuilder/userprofiles/18710095921@163.com/jxddH5PlusApp/unpackage","sourcesContent":["// 引入vue\r\nimport Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\nimport app from './app';\r\n/*import home from '../../home/bizcomponent/Home';\r\nimport type from '../../type/bizcomponent/Type';\r\nimport mine from '../../mine/bizcomponent/Mine';\r\nimport order from '../../order/bizcomponent/Order';*/\r\nimport muiUtils from 'common/muiUtils';\r\nimport CONSTS from 'common/consts';\nimport pageUrl from 'api';\r\nimport vheader from 'component/mui/Header.vue';\r\nimport vnav from 'component/mui/NavTabbar.vue';\r\n\r\nVue.use(VueRouter);\r\nlet router = new VueRouter();\n/*router.map({\n    '/': {\r\n        component: home\r\n    },\r\n    '/home': {\r\n        component: home\r\n    },\r\n    '/order': {\r\n        component: order\r\n    },\r\n    '/type': {\r\n        component: type\r\n    },\r\n    '/mine': {\r\n        component: mine\r\n    }\r\n});\r\n\nrouter.redirect({\r\n    '*': '/Home'\r\n});*/\r\n\r\n// mui生命周期管理\r\nmui.init({\r\n    swipeBack: false\r\n});\nmui.plusReady(function() {\n    router.start(app, '#app');\n});\n\nlet isLogin = (muiUtils.getLoginUserInfo() || {}).user_type === 2;\n// 用户是卖家时候才显示首页切换按钮\nlet homeSwitchButtonDisplay = 'none';\nif (isLogin) { // 已登录\n  // let user_type = CONSTS.USER_TYPE;\n  // 如果是供应商，跳转到卖家首页\r\n    if (muiUtils.getLoginUserInfo().user_type === 2) {\n        homeSwitchButtonDisplay = 'block';\n    }\r\n}\r\n\r\n// head 和 foot所用参数\r\nlet hdstyle = {\n    homeSwitchButton: {\r\n        display: homeSwitchButtonDisplay,\r\n        text: '买家版',\r\n        homeSwitch: function() {\r\n            muiUtils.openWindow('../../seller/index/sellerindex.html', pageUrl.PAGE_URL.seller_index.id, {\r\n                styles: {\r\n                    popGesture: 'none'\r\n                }\r\n            });\r\n        }\r\n    },\r\n    title: {\r\n        display: 'none'\r\n    },\r\n    searchBar: {\r\n        display: true,\r\n        placeholder: '请输入关键字',\r\n        modelName: 'home', // 搜索历史在本地缓存中存放的key\r\n        searchTypeBut: [{ // 搜索页是否显示搜索类型下拉菜单按钮，不显示不要设置这个值\r\n            name: '商品',\r\n            value: 'goods'\r\n        }, {\n            name: '店铺',\r\n            value: 'store'\r\n        }],\r\n        hotSearch: true,\r\n        gotoPage: '../../buyer/homesearch/index.html'\r\n    },\r\n    rightButton: {\r\n        display: 'none',\r\n        text: '编辑',\r\n        onClick: function(that) {\r\n            let webview = plus.webview.currentWebview();\n            if (that.hdstyle.rightButton.text === '编辑') {\n                that.hdstyle.rightButton.text = '完成';\r\n                that.title = '已选择(0)';\r\n                mui.fire(webview, 'isedit', {\r\n                    edit: false\r\n                });\r\n            } else {\r\n                that.hdstyle.rightButton.text = '编辑';\r\n                that.title = '采购单';\r\n                mui.fire(webview, 'isedit', {\r\n                    edit: true\r\n                });\r\n            }\r\n        } // 右侧按钮点击事件处理方法\r\n    },\r\n    rightBarcodeBtn: {\r\n        display: true,\r\n        color: '#ffffff',\r\n        onClick: function() {\r\n            if (mui.os.android) {\r\n                muiUtils.openWindow('../../commonpage/barcodescan/index.html', 'commonpage_barcodescan_index.html');\r\n            } else {\r\n                muiUtils.openWindow('../../commonpage/barcodescan/index.html', 'commonpage_barcodescan_index.html', {\r\n                    styles: {\r\n                        popGesture: 'none'\r\n\n                    },\r\n                    show: {\r\n                        aniShow: 'slide-in-top',\r\n                        autoShow: true,\r\n                        duration: 300\r\n                    }\r\n                });\r\n                setTimeout(() => {\r\n                    plus.navigator.setStatusBarBackground('#000000');\r\n                    plus.navigator.setStatusBarStyle('UIStatusBarStyleDefault');\r\n                    plus.navigator.setFullscreen(true);\r\n                }, 100);\n            }\r\n        }\r\n    }\r\n};\r\nlet hrefes = [{\n    href: '/home',\r\n    text: '首页',\r\n    icon: 'icon-shouye'\r\n}, {\r\n    href: '/type',\r\n    text: '分类',\r\n    icon: 'icon-fenlei'\r\n}, {\r\n    href: '/order',\r\n    text: '采购单',\r\n    icon: 'icon-caigoudan'\r\n}, {\r\n    href: '/mine',\r\n    text: '我的',\r\n    icon: 'icon-gerenzhongxin'\r\n}];\r\nlet typeclass = isLogin ? 'buyHome' : 'buyHomeNoLogin';\nlet index = 0;\nlet showHeader = true;\n// 头部head start\r\nlet HeaderVue = Vue.extend(vheader);\nlet header = new HeaderVue({\n    propsData: {\r\n        hdstyle: hdstyle,\r\n        typeclass: typeclass,\r\n        title: hrefes[index].text,\r\n        showHeader: showHeader\r\n    },\r\n    el: 'vheader'\r\n});\r\n// 头部head end\r\n\r\n// 尾部foot start\r\nlet FootVue = Vue.extend(vnav);\n/*eslint-disable no-unused-vars */\nlet footer = new FootVue({\n    propsData: {\r\n        hdstyle: hdstyle,\r\n        hrefes: hrefes,\r\n        typeclass: typeclass,\r\n        showHeader: showHeader,\r\n        index: index\r\n    },\r\n    el: 'vnav',\r\n    watch: {\r\n        index: function() {\r\n            header.hdstyle = this.hdstyle;\r\n            header.title = hrefes[this.index].text;\r\n            header.typeclass = this.typeclass;\r\n            header.showHeader = this.showHeader;\n            header.navIndex = this.index;\r\n            router.app.index = this.index;\n        }\r\n    }\r\n});\r\n// 尾部 end\n\r\n// 两次点击返回\r\nlet first = null;\nmui.back = function() {\r\n  // 首次按键\r\n    if (!first) {\r\n        first = new Date().getTime();\r\n        mui.toast('再按一次退出');\r\n        setTimeout(function() {\r\n            first = null;\r\n        }, 1000);\r\n    } else {\r\n        if (new Date().getTime() - first < 1000) {\r\n            plus.runtime.quit();\r\n        }\r\n    }\r\n};\r\n\r\n// 监听页面返回首页事件\r\nwindow.addEventListener(CONSTS.WEBVIEW_SHOW_EVENT, function(event) {\r\n  // console.log('页面返回首页事件');\n    if (muiUtils.getLoginUserInfo()) { // 已登录\r\n    // let user_type = CONSTS.USER_TYPE;\r\n    // 如果是供应商，跳转到卖家首页\r\n        if (muiUtils.getLoginUserInfo().user_type === 2 && footer.index === 0) {\r\n            hdstyle.homeSwitchButton.display = 'block';\r\n            header.typeclass = 'buyHome';\r\n        } else {\r\n            header.hdstyle.homeSwitchButton.display = 'none';\r\n            typeclass = 'buyHomeNoLogin';\r\n        }\r\n    }\r\n});\r\n// 监听跳转采购单\r\nwindow.addEventListener('toptext', function(event) {\r\n    hdstyle.rightButton.text = event.detail.toptext;\r\n    header.title = event.detail.title;\r\n});\r\n// 监听购买数量\r\nwindow.addEventListener('buytype', function(event) {\r\n    if (hdstyle.rightButton.text === '编辑') {\r\n        header.title = '采购单';\r\n    } else {\r\n        header.title = '已选择(' + event.detail.buytype + ')';\r\n    }\r\n});\r\n"]}