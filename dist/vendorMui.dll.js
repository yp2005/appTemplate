var vendorMui_library=function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i},function(e,t){"use strict";!function(e,t){e.init({gestureConfig:{tap:!0,doubletap:!0,longtap:!0,swipe:!0,drag:!0,hold:!0,release:!0}});var i="ontouchstart"in t,n=i?"tap":"click",s=i?"tap":"click",o=e.className("image");e.dom=function(i){return e.__create_dom_div__||(e.__create_dom_div__=t.createElement("div")),e.__create_dom_div__.innerHTML=i,e.__create_dom_div__.childNodes};var a=e.ImageViewer=e.Class.extend({init:function(e,t){var n=this;n.options=t||{},n.selector=e||"img",n.options.dbl&&(s=i?"doubletap":"dblclick"),n.findAllImage(),n.createViewer(),n.bindEvent()},createViewer:function(){var i=this;i.viewer=e.dom("<div class='mui-imageviewer'><div class='mui-imageviewer-mask'></div><div class='mui-imageviewer-header'><i class='mui-icon mui-icon-closeempty mui-imageviewer-close'></i><span class='mui-imageviewer-state'></span></div><i class='mui-icon mui-icon-arrowleft  mui-imageviewer-left'></i><i class='mui-icon mui-icon-arrowright mui-imageviewer-right'></i></div>"),i.viewer=i.viewer[0]||i.viewer,i.closeButton=i.viewer.querySelector(".mui-imageviewer-close"),i.state=i.viewer.querySelector(".mui-imageviewer-state"),i.leftButton=i.viewer.querySelector(".mui-imageviewer-left"),i.rightButton=i.viewer.querySelector(".mui-imageviewer-right"),i.mask=i.viewer.querySelector(".mui-imageviewer-mask"),t.body.appendChild(i.viewer)},findAllImage:function(){var t=this;t.images=[].slice.call(e(t.selector))},checkImage:function(e){var t=this;return"IMG"===e.tagName&&t.images.some(function(t){return t==e})},bindEvent:function(){var i=this;t.addEventListener(s,function(e){if(i.viewer){var t=e.target;i.checkImage(t)&&(i.viewer.style.display="block",setTimeout(function(){i.viewer.style.opacity=1},0),i.index=i.images.indexOf(t),i.currentItem=i.createImage(i.index))}},!1),i.closeButton.addEventListener(n,function(e){i.viewer.style.opacity=0,setTimeout(function(){i.viewer.style.display="none",i.disposeImage(!0)},600),e.preventDefault(),e.cancelBubble=!0},!1),i.leftButton.addEventListener(n,function(){i.prev()},!1),i.rightButton.addEventListener(n,function(){i.next()},!1),i.mask.addEventListener(e.EVENT_MOVE,function(e){e.preventDefault(),e.cancelBubble=!0},!1),i.viewer.addEventListener("swipeleft",function(e){1==i.scaleValue&&i.next(),e.preventDefault(),e.cancelBubble=!0},!1),i.viewer.addEventListener("swiperight",function(e){1==i.scaleValue&&i.prev(),e.preventDefault(),e.cancelBubble=!0},!1),i.viewer.addEventListener(e.EVENT_START,function(e){var t=e.touches;if(2==t.length){var n=t[0],s=t[1],o=n.pageX-s.pageX,a=n.pageY-s.pageY;i.scaleStart=Math.sqrt(o*o+a*a),i.isMultiTouch=!0}else(t.length=1)&&(i.dragStart=t[0])},!1),i.viewer.addEventListener(e.EVENT_MOVE,function(e){var t=i.currentItem.querySelector("img"),n=e.changedTouches;if(2==n.length){e.preventDefault(),e.cancelBubble=!0;var s=n[0],o=n[1],a=s.pageX-o.pageX,r=s.pageY-o.pageY;i.scaleEnd=Math.sqrt(a*a+r*r),i._scaleValue=i.scaleValue*(i.scaleEnd/i.scaleStart),t.style.webkitTransform="scale("+i._scaleValue+","+i._scaleValue+") "}else i.isMultiTouch||1!=n.length||1==i.scaleValue||(e.preventDefault(),e.cancelBubble=!0,i.dragEnd=n[0],i._dragX=i.dragX+(i.dragEnd.pageX-i.dragStart.pageX),i._dragY=i.dragY+(i.dragEnd.pageY-i.dragStart.pageY),t.style.marginLeft=i._dragX+"px",t.style.marginTop=i._dragY+"px")},!1),i.viewer.addEventListener(e.EVENT_END,function(){i.scaleValue=i._scaleValue||i.scaleValue,i._scaleValue=null,i.dragX=i._dragX,i.dragY=i._dragY,i._dragX=null,i._dragY=null;var e=event.touches;i.isMultiTouch=0!=e.length}),i.viewer.addEventListener("doubletap",function(){var e=i.currentItem.querySelector("img");1===i.scaleValue?i.scaleValue=2:i.scaleValue=1,i.dragX=0,i.dragY=0,e.style.marginLeft=i.dragX+"px",e.style.marginTop=i.dragY+"px",e.style.webkitTransform="scale("+i.scaleValue+","+i.scaleValue+") ",i.viewer.__tap_num=0},!1)},next:function(){var e=this;e.mask.style.display="block",e.index++;var t=e.createImage(e.index,"right");setTimeout(function(){e.currentItem.classList.remove("mui-imageviewer-item-center"),e.currentItem.classList.add("mui-imageviewer-item-left"),t.classList.remove("mui-imageviewer-item-right"),t.classList.add("mui-imageviewer-item-center"),e.oldItem=e.currentItem,e.currentItem=t,setTimeout(function(){e.disposeImage(),e.mask.style.display="none"},600)},25)},prev:function(){var e=this;e.mask.style.display="block",e.index--;var t=e.createImage(e.index,"left");setTimeout(function(){e.currentItem.classList.remove("mui-imageviewer-item-center"),e.currentItem.classList.add("mui-imageviewer-item-right"),t.classList.remove("mui-imageviewer-item-left"),t.classList.add("mui-imageviewer-item-center"),e.oldItem=e.currentItem,e.currentItem=t,setTimeout(function(){e.disposeImage(),e.mask.style.display="none"},600)},25)},disposeImage:function(t){var i=".mui-imageviewer-item-left,.mui-imageviewer-item-right";t&&(i+=",.mui-imageviewer-item");var n=e(i);n.each(function(e,t){t.parentNode&&t.parentNode.removeChild&&t.parentNode.removeChild(t,!0)})},createImage:function(t,i){var n=this;i=i||"center",t<0&&(t=n.images.length-1),t>n.images.length-1&&(t=0),n.index=t;var s=e.dom("<div class='mui-imageviewer-item'></div>")[0];return s.appendChild(e.dom('<span><img  onerror=\'this.src=\"../../static/img/placehold.png\"\' src="'+n.images[n.index].src+'"/></span>')[0]),s.classList.add("mui-imageviewer-item-"+i),n.viewer.appendChild(s),n.state.innerText=n.index+1+"/"+n.images.length,n.scaleValue=1,n.dragX=0,n.dragY=0,s}});e.imageViewer=function(e,t){return new a(e,t)},e.ready(function(){e.imageViewer("."+o)})}(mui,document)},function(e,t){"use strict";!function(e,t,i){var n=function(t){return"."+e.className(t)},s=e.IndexedList=e.Class.extend({init:function(e,t){var i=this;if(i.options=t||{},i.box=e,!i.box)throw"实例 IndexedList 时需要指定 element";i.createDom(),i.findElements(),i.caleLayout(),i.bindEvent()},createDom:function(){var e=this;e.el=e.el||{},e.el.styleForSearch=i.createElement("style"),(i.head||i.body).appendChild(e.el.styleForSearch)},findElements:function(){var e=this;e.el=e.el||{},e.el.search=e.box.querySelector(n("indexed-list-search")),e.el.searchInput=e.box.querySelector(n("indexed-list-search-input")),e.el.searchClear=e.box.querySelector(n("indexed-list-search")+" "+n("icon-clear")),e.el.bar=e.box.querySelector(n("indexed-list-bar")),e.el.barItems=[].slice.call(e.box.querySelectorAll(n("indexed-list-bar")+" a")),e.el.inner=e.box.querySelector(n("indexed-list-inner")),e.el.items=[].slice.call(e.box.querySelectorAll(n("indexed-list-item"))),e.el.liArray=[].slice.call(e.box.querySelectorAll(n("indexed-list-inner")+" li")),e.el.alert=e.box.querySelector(n("indexed-list-alert"))},caleLayout:function(){var e=this,t=e.box.offsetHeight-e.el.search.offsetHeight+"px";e.el.bar.style.height=t,e.el.inner.style.height=t;var i=(e.el.bar.offsetHeight-40)/e.el.barItems.length+"px";e.el.barItems.forEach(function(e){e.style.height=i,e.style.lineHeight=i})},scrollTo:function(e){var t=this,i=t.el.inner.querySelector('[data-group="'+e+'"]');!i||t.hiddenGroups&&t.hiddenGroups.indexOf(i)>-1||(t.el.inner.scrollTop=i.offsetTop)},bindBarEvent:function(){var t=this,n=null,s=function(e){n&&(n.classList.remove("active"),n=null),t.el.bar.classList.add("active");var s=e.changedTouches?e.changedTouches[0]:e;if(n=i.elementFromPoint(s.pageX,s.pageY)){var o=n.innerText;o&&1==o.length&&(n.classList.add("active"),t.el.alert.innerText=o,t.el.alert.classList.add("active"),t.scrollTo(o))}e.preventDefault()},o=function(e){t.el.alert.classList.remove("active"),t.el.bar.classList.remove("active"),n&&(n.classList.remove("active"),n=null)};t.el.bar.addEventListener(e.EVENT_MOVE,function(e){s(e)},!1),t.el.bar.addEventListener(e.EVENT_START,function(e){s(e)},!1),i.body.addEventListener(e.EVENT_END,function(e){o(e)},!1),i.body.addEventListener(e.EVENT_CANCEL,function(e){o(e)},!1)},search:function(t){var i=this;t=(t||"").toLowerCase();var s=[],o=-1,a=0,r=i.el.liArray,l=r.length;i.hiddenGroups=[];var c=function(e,t){a>=e-o-(t?0:1)&&(s.push(n("indexed-list-inner li")+":nth-child("+(o+1)+")"),i.hiddenGroups.push(r[o])),o=e,a=0};r.forEach(function(i){var o=r.indexOf(i);if(i.classList.contains(e.className("indexed-list-group")))c(o,!1);else{var d=(i.innerText||"").toLowerCase(),u=(i.getAttribute("data-value")||"").toLowerCase(),h=(i.getAttribute("data-tags")||"").toLowerCase();t&&d.indexOf(t)<0&&u.indexOf(t)<0&&h.indexOf(t)<0&&(s.push(n("indexed-list-inner li")+":nth-child("+(o+1)+")"),a++),o>=l-1&&c(o,!0)}}),s.length>=l?i.el.inner.classList.add("empty"):s.length>0?(i.el.inner.classList.remove("empty"),i.el.styleForSearch.innerText=s.join(", ")+"{display:none;}"):(i.el.inner.classList.remove("empty"),i.el.styleForSearch.innerText="")},bindSearchEvent:function(){var t=this;t.el.searchInput.addEventListener("input",function(){var e=this.value;t.search(e)},!1),e(t.el.search).on("tap",n("icon-clear"),function(){t.search("")},!1)},bindEvent:function(){var e=this;e.bindBarEvent(),e.bindSearchEvent()}});e.fn.indexedList=function(e){return this.each(function(t,i){i.indexedList||(i.indexedList=new s(i,e))}),this[0]?this[0].indexedList:null}}(mui,window,document)},function(e,t){"use strict";!function(e,t,i){var n=e.Lazyload.extend({init:function(e,t){this._super(e,t)},_init:function(){this.options.selector="[data-lazyload]",this._super()},_set:function(e,t){"IMG"===e.tagName?e.src=t:e.style.backgroundImage="url("+t+")"},_hasPlaceholder:function(e){return!!e.offsetWidth&&("IMG"===e.tagName?!!e.src:!!e.style.backgroundImage)},_addPlaceHolder:function(e){var t=this;"IMG"===e.tagName?(t._counter++,e.onload=function(){t._counter--,t.addCallback(e,t.handle),this.onload=null},t.onPlaceHolder(function(i){t._set(e,i)})):e.style.backgroundImage="url("+t.options.placeholder+")"},addElement:function(e){var t=this,i=e.getAttribute("data-lazyload");return!!i&&(t._hasPlaceholder(e)?t.addCallback(e,t.handle):(t.onPlaceHolder=t._createLoader(function(e){var i=new Image,n=t.options.placeholder;i.src=n,i.onload=i.onerror=function(){e(n)}}),t._addPlaceHolder(e)),!0)},set:function(t,i){var n=this,s=new Image;s.onload=function(){n._set(t,i),e.trigger(n.element,"success",{element:t,uri:i})},s.onerror=function(){e.trigger(n.element,"error",{element:t,uri:i})},s.src=i,t.removeAttribute("data-lazyload")},handle:function(e,t){var i=e.getAttribute("data-lazyload");i&&this.set(e,i)},destroy:function(){this._super(),this.element.removeAttribute("data-imageLazyload")}});e.fn.imageLazyload=function(s){var o=[];return this.each(function(){var a=this,r=null;a!==i&&a!==t||(a=i.body);var l=a.getAttribute("data-imageLazyload");l?r=e.data[l]:(l=++e.uuid,e.data[l]=r=new n(a,s),a.setAttribute("data-imageLazyload",l)),o.push(r)}),1===o.length?o[0]:o}}(mui,window,document)},function(e,t){"use strict";!function(e,t,i){var n=0;e.Lazyload=e.Class.extend({init:function(t,i){this.container=this.element=t,this.options=e.extend({selector:"",diff:!1,force:!1,autoDestroy:!0,duration:100},i),this._key=0,this._containerIsNotDocument=9!==this.container.nodeType,this._callbacks={},this._init()},_init:function(){this._initLoadFn(),this.addElements(),this._loadFn(),e.ready(function(){this._loadFn()}.bind(this)),this.resume()},_initLoadFn:function(){var t=this;t._loadFn=this._buffer(function(){t.options.autoDestroy&&0==t._counter&&e.isEmptyObject(t._callbacks)&&t.destroy(),t._loadItems()},t.options.duration,t)},_createLoader:function(e){var t,i,n,s=[];return function(o){return i||(i=!0,e(function(e){for(t=e;n=s.shift();)try{n&&n.apply(null,[t])}catch(e){setTimeout(function(){throw e},0)}})),t?(o&&o.apply(null,[t]),t):(o&&s.push(o),t)}},_buffer:function(t,i,n){function s(){o&&(o.cancel(),o=0),a=e.now(),t.apply(n||this,arguments),r=e.now()}var o,a=0,r=0,i=i||150;return e.extend(function(){!a||r>=a&&e.now()-r>i||r<a&&e.now()-a>8*i?s():(o&&o.cancel(),o=e.later(s,i,null,arguments))},{stop:function(){o&&(o.cancel(),o=0)}})},_getBoundingRect:function(i){var n,s,o,a;if(void 0!==i){n=i.offsetHeight,s=i.offsetWidth;var r=e.offset(i);o=r.left,a=r.top}else n=t.innerHeight,s=t.innerWidth,o=0,a=t.pageYOffset;var l=this.options.diff,c=l===!1?s:l,d=0,u=c,h=l===!1?n:l,p=0,m=h,f=o+s,g=a+n;return o-=d,f+=u,a-=p,g+=m,{left:o,top:a,right:f,bottom:g}},_cacheWidth:function(e){return e._mui_lazy_width?e._mui_lazy_width:e._mui_lazy_width=e.offsetWidth},_cacheHeight:function(e){return e._mui_lazy_height?e._mui_lazy_height:e._mui_lazy_height=e.offsetHeight},_isCross:function(e,t){var i={};return i.top=Math.max(e.top,t.top),i.bottom=Math.min(e.bottom,t.bottom),i.left=Math.max(e.left,t.left),i.right=Math.min(e.right,t.right),i.bottom>=i.top&&i.right>=i.left},_elementInViewport:function(t,i,n){if(!t.offsetWidth)return!1;var s,o=e.offset(t),a=!0,r=o.left,l=o.top,c={left:r,top:l,right:r+this._cacheWidth(t),bottom:l+this._cacheHeight(t)};return s=this._isCross(i,c),s&&n&&(a=this._isCross(n,c)),a&&s},_loadItems:function(){var t=this;t._containerIsNotDocument&&!t.container.offsetWidth||(t._windowRegion=t._getBoundingRect(),t._containerIsNotDocument&&(t._containerRegion=t._getBoundingRect(this.container)),e.each(t._callbacks,function(e,i){i&&t._loadItem(e,i)}))},_loadItem:function(e,t){var i=this;if(t=t||i._callbacks[e],!t)return!0;var n=t.el,s=!1,o=t.fn;if(i.options.force||i._elementInViewport(n,i._windowRegion,i._containerRegion))try{s=o.call(i,n,e)}catch(e){setTimeout(function(){throw e},0)}return s!==!1&&delete i._callbacks[e],s},addCallback:function(t,i){var n=this,s=n._callbacks,o={el:t,fn:i||e.noop},a=++this._key;s[a]=o,n._windowRegion?n._loadItem(a,o):n.refresh()},addElements:function(t){var i=this;i._counter=i._counter||0;var s=[];!t&&i.options.selector?s=i.container.querySelectorAll(i.options.selector):e.each(t,function(t,n){s=s.concat(e.qsa(i.options.selector,n))}),e.each(s,function(e,t){t.getAttribute("data-lazyload-id")||i.addElement(t)&&(t.setAttribute("data-lazyload-id",n++),i.addCallback(t,i.handle))})},addElement:function(e){return!0},handle:function(){},refresh:function(e){e&&this.addElements(),this._loadFn()},pause:function(){var i=this._loadFn;this._destroyed||(t.removeEventListener("scroll",i),t.removeEventListener(e.EVENT_MOVE,i),t.removeEventListener("resize",i),this._containerIsNotDocument&&(this.container.removeEventListener("scrollend",i),this.container.removeEventListener("scroll",i),this.container.removeEventListener(e.EVENT_MOVE,i)))},resume:function(){var i=this._loadFn;this._destroyed||(t.addEventListener("scroll",i,!1),t.addEventListener(e.EVENT_MOVE,i,!1),t.addEventListener("resize",i,!1),this._containerIsNotDocument&&(this.container.addEventListener("scrollend",i,!1),this.container.addEventListener("scroll",i,!1),this.container.addEventListener(e.EVENT_MOVE,i,!1)))},destroy:function(){var t=this;t.pause(),t._callbacks={},e.trigger(this.container,"destroy",t),t._destroyed=1}})}(mui,window,document)},function(e,t){"use strict";!function(e,t,i){var n="beforeChangeOffset",s="afterChangeOffset",o="pullstart",a="pulling",r=n,l=s,c="dragEndAfterChangeOffset",d=e.className("transitioning"),u=e.className("pull-top-tips"),h=e.className("pull-down-tips"),p=e.className("pull-bottom-tips"),m=e.className("pull-loading"),f=e.className("scroll"),g=e.className("pull-loading")+" "+e.className("icon")+" "+e.className("icon-pulldown"),v=g+" "+e.className("reverse"),w=e.className("pull-loading")+" "+e.className("spinner"),y=e.className("hidden"),T=0,b="."+m,_=null,E=!0;mui.plusReady(function(){_=plus.webview.currentWebview()}),e.PullToRefresh=e.Class.extend({init:function(t,i){this.element=t,this.scroll=mui(this.element.parentNode).scroll(),this.options=e.extend(!0,{down:{auto:!1,height:75,offset:50,callback:!1,pullDownTipStyle:"topLoading",contentdefault:"下拉可以刷新",contentdragdown:"释放立即刷新",contentloading:"正在刷新...",tipColor:"#777777"},up:{auto:!1,offset:50,show:!0,contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",callback:!1},preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/}},i),this.stopped=this.isNeedRefresh=this.isDragging=!1,this.state=n,this.isInScroll=this.element.classList.contains(f),e.isFunction(this.options.up.callback)&&this.initGotoTopB(),this.initPullUpTips(),this.initPullDownTopTips(),this.initEvent(),this.element.style.minHeight="101%",this.element.style.backgroundColor="#f3f5f7"},initGotoTopB:function(){var e=this,t=i.createElement("div");t.id="gotoTopB",t.style.display="none",t.style.position="absolute",t.style.right="10px",t.style.bottom="10px",t.style.height="40px",t.style.width="40px",t.style.fontSize="20px",t.style.borderRadius="20px",t.style.lineHeight="35px",t.style.color="#000000",t.style.zIndex="2",t.style.background="#ffffff",t.style.opacity="0.6",t.style.border="1px solid #666666",t.innerHTML='<span class="icon-fanhuidingbu jxddicon" style="margin-left: 9px"></span>',t.addEventListener("tap",function(){e.scroll.scrollTo(0,0,300)}),this.element.parentNode.appendChild(t)},initPullDownTopTips:function(){if(e.isFunction(this.options.down.callback)){var t=this.element.querySelector("."+h);if(!t){t=i.createElement("div"),t.classList.add(h),t.innerHTML='<div class="mui-pull"><div id="topTipIcon" class="mui-pull-loading mui-icon mui-icon-pulldown"></div><div id="topTipText" class="mui-pull-caption">'+this.options.down.contentdefault+"</div></div>",t.style.height="40px",t.style.width="100%",t.style.position="absolute",t.style.top="-40px";var n=t.querySelector("#topTipIcon"),s=t.querySelector("#topTipText");n.style.webkitTransition="-webkit-transform 0.3s ease-in",n.style.webkitTransform="rotate(0deg)",n.style.color=this.options.down.tipColor,s.style.color=this.options.down.tipColor,this.element.appendChild(t)}}},_preventDefaultException:function(e,t){for(var i in t)if(t[i].test(e[i]))return!0;return!1},initEvent:function(){if(e.isFunction(this.options.down.callback)&&(this.element.addEventListener(e.EVENT_START,this),this.element.addEventListener("drag",this),this.element.addEventListener("dragend",this)),this.pullUpTips&&(this.element.addEventListener("dragup",this),this.isInScroll?this.element.addEventListener("scrollbottom",this):t.addEventListener("scroll",this)),e.isFunction(this.options.up.callback)){var i=this;this.element.addEventListener("scroll",function(){var t=i.element.parentNode.getAttribute("data-scroll"),n=e.data[t];n.y<0&&Math.abs(n.y)>i.element.parentNode.scrollHeight/3?i.element.parentNode.querySelector("#gotoTopB").style.display="inline":i.element.parentNode.querySelector("#gotoTopB").style.display="none"})}},dealTopTip:function(t){var i=this.element.parentNode.getAttribute("data-scroll"),n=e.data[i];T=n.y;var s=this.element.querySelector("."+h),o=s.querySelector(".mui-pull-loading"),a=s.querySelector(".mui-pull-caption");T>=this.options.down.offset?(o.style.webkitTransform="rotate(180deg)",a.innerText=this.options.down.contentdragdown):(o.style.webkitTransform="rotate(0deg)",a.innerText=this.options.down.contentdefault)},handleEvent:function(e){switch(e.type){case"drag":this.dealTopTip(e);break;case"dragend":this._dragend(e);break;case"webkitTransitionEnd":this._transitionEnd(e);break;case"dragup":this._dragup(e)}},initPullDownTips:function(){var t=this;e.isFunction(t.options.down.callback)&&(t.pullDownTips=function(){var e=i.querySelector("."+u);return e&&e.parentNode.removeChild(e),e||(e=i.createElement("div"),e.classList.add(u),e.innerHTML='<div class="mui-pull-top-wrapper"><span class="mui-pull-loading mui-icon mui-icon-pulldown"></span></div>',e.addEventListener("webkitTransitionEnd",t)),t.pullDownTipsIcon=e.querySelector(b),i.body.appendChild(e),e}())},initPullUpTips:function(){var t=this;e.isFunction(t.options.up.callback)&&(t.pullUpTips=function(){var e=t.element.querySelector("."+p);return e||(e=i.createElement("div"),e.classList.add(p),t.options.up.show||e.classList.add(y),e.innerHTML='<div class="mui-pull-bottom-wrapper"><span class="mui-pull-loading">'+t.options.up.contentdown+"</span></div>",t.element.style.paddingBottom="41px",e.style.position="absolute",e.style.bottom="0",e.style.width="100%",t.element.appendChild(e)),t.pullUpTipsIcon=e.querySelector(b),e}())},_transitionEnd:function(e){e.target===this.pullDownTips&&this.removing&&this.removePullDownTips()},_dragup:function(t){var i=this;if(!i.loading){if(t&&t.detail&&e.gestures.session.drag)i.isDraggingUp=!0;else if(!i.isDraggingUp)return;i.isDragging||i._canPullUp()&&i.pullUpLoading(t)}},_canPullUp:function(){if(this.isInScroll){var n=this.element.parentNode.getAttribute("data-scroll");if(n){var s=e.data[n];return Math.abs(s.y)-Math.abs(s.maxScrollY)>this.options.up.offset}}return t.pageYOffset+t.innerHeight+this.options.up.offset>=i.documentElement.scrollHeight},_canPullDown:function(){if(this.removing)return!1;if(this.isInScroll){var t=this.element.parentNode.getAttribute("data-scroll");if(t){var n=e.data[t];return 0===n.y}}return 0===i.body.scrollTop},_drag:function(o){if(this.loading||this.stopped)return o.stopPropagation(),void o.detail.gesture.preventDefault();var a=o.detail;if(!this.isDragging&&"down"===a.direction&&this._canPullDown()){if(i.querySelector("."+u))return o.stopPropagation(),void o.detail.gesture.preventDefault();this.isDragging=!0,this.removing=!1,this.startDeltaY=a.deltaY,e.gestures.session.lockDirection=!0,e.gestures.session.startDirection=a.direction,this._pullStart(this.startDeltaY)}if(this.isDragging){o.stopPropagation(),o.detail.gesture.preventDefault();var r=a.deltaY-this.startDeltaY;r=Math.min(r,1.5*this.options.down.height),this.deltaY=r,this._pulling(r);var l=r>this.options.down.height?s:n;if(this.state!==l&&(this.state=l,this.state===s?(this.removing=!1,this.isNeedRefresh=!0):(this.removing=!0,this.isNeedRefresh=!1),this["_"+l](r)),e.os.ios&&parseFloat(e.os.version)>=8){var c=a.gesture.touches[0].clientY;if(c+10>t.innerHeight||c<10)return void this._dragend(o)}}},_dragend:function(e){var t=this;T>=t.options.down.offset&&(t.isDragging=!1,t._dragEndAfterChangeOffset(!0)),t.isPullingUp&&(t.pullingUpTimeout&&clearTimeout(t.pullingUpTimeout),t.pullingUpTimeout=setTimeout(function(){t.isPullingUp=!1},1e3))},_pullStart:function(t){this.pullStart(t),e.trigger(this.element,o,{api:this,startDeltaY:t})},_pulling:function(t){this.pulling(t),e.trigger(this.element,a,{api:this,deltaY:t})},_beforeChangeOffset:function(t){this.beforeChangeOffset(t),e.trigger(this.element,r,{api:this,deltaY:t})},_afterChangeOffset:function(t){this.afterChangeOffset(t),e.trigger(this.element,l,{api:this,deltaY:t})},_dragEndAfterChangeOffset:function(t){this.dragEndAfterChangeOffset(t),e.trigger(this.element,c,{api:this,isNeedRefresh:t})},removePullDownTips:function(){if(this.pullDownTips)try{this.pullDownTips.parentNode&&this.pullDownTips.parentNode.removeChild(this.pullDownTips),this.pullDownTips=null,this.removing=!1}catch(e){}},pullStart:function(e){this.initPullDownTips(e)},pulling:function(e){this.pullDownTips.style.webkitTransform="translate3d(0,"+e+"px,0)"},beforeChangeOffset:function(e){this.pullDownTipsIcon.className=g},afterChangeOffset:function(e){this.pullDownTipsIcon.className=v},dragEndAfterChangeOffset:function(e){e?(this.pullDownLoading(),this.pullDownTipsIcon&&(this.pullDownTipsIcon.className=w)):(this.pullDownTipsIcon.className=g,this.endPullDownToRefresh())},pullDownLoading:function(){if(!this.loading){if(!this.pullDownTips&&"pullDownTips"===this.options.down.pullDownTipStyle)return this.initPullDownTips(),void this.dragEndAfterChangeOffset(!0);if(this.scroll.scrollTo(0,40,100),this.scroll.stopped=!0,this.loading=!0,this.addMask(),this.pullDownTips&&"pullDownTips"===this.options.down.pullDownTipStyle)this.pullDownTips.classList.add(d),this.pullDownTips.style.webkitTransform="translate3d(0,"+this.options.down.height+"px,0)";else{var e=this.element.querySelector("#topTipIcon");e.className="#ffffff"===this.options.down.tipColor?"mui-pull-loading loading-white":"mui-pull-loading loading-default",e.style.webkitAnimation="spinner-spin 1s step-end infinite",this.element.querySelector("#topTipText").innerText=this.options.down.contentloading}this.options.down.callback.apply(this)}},pullUpLoading:function(e){this.loading||this.finished||(this.loading=!0,this.addMask(),this.isDraggingUp=!1,this.pullUpTips.classList.remove(y),e&&e.detail&&e.detail.gesture&&e.detail.gesture.preventDefault(),this.pullUpTipsIcon.innerHTML=this.options.up.contentrefresh,this.options.up.callback.apply(this))},endPullDownToRefresh:function(){this.loading=!1;var e=this;if(setTimeout(function(){e.scroll.scrollTo(0,0,500),e.scroll.stopped=!1},300),this.pullUpTips&&this.pullUpTips.classList.remove(y),this.pullDownTips&&"pullDownTips"===this.options.down.pullDownTipStyle)this.pullDownTips.classList.add(d),this.pullDownTips.style.webkitTransform="translate3d(0,0,0)";else{var t=this.element.querySelector("#topTipIcon"),i=this.element.querySelector("#topTipText");t.style.webkitTransition="-webkit-transform 0s ease-in",t.style.webkitTransform="rotate(0deg)",t.className="mui-pull-loading jxddicon icon-caozuochenggong",t.style.webkitAnimation="",i.innerText="操作成功 .",setTimeout(function(){t.className="mui-pull-loading mui-icon mui-icon-pulldown",i.innerText=e.options.down.contentdefault,t.style.webkitTransition="-webkit-transform 0.3s ease-in"},800)}this.deltaY<=0?this.removePullDownTips():this.removing=!0,setTimeout(this.delMask,100)},endPullUpToRefresh:function(i){i?(this.finished=!0,this.pullUpTipsIcon.innerHTML=this.options.up.contentnomore,this.element.removeEventListener("dragup",this),t.removeEventListener("scroll",this)):this.pullUpTipsIcon.innerHTML=this.options.up.contentdown,this.loading=!1,this.isInScroll&&e(this.element.parentNode).scroll().refresh(),setTimeout(this.delMask,100)},addMask:function(){null!=_&&(_.parent()?E||(_.parent().setStyle({mask:"rgba(0,0,0,0)"}),_.show()):_.setStyle({mask:"rgba(0,0,0,0)"}))},delMask:function(){_.parent()?E?E=!1:(_.parent().setStyle({mask:"none"}),_.show()):_.setStyle({mask:"none"})},setStopped:function(e){e!==this.stopped&&(this.stopped=e,this.pullUpTips&&this.pullUpTips.classList[e?"add":"remove"](y))},refresh:function(e){e&&this.finished&&this.pullUpTipsIcon&&(this.pullUpTipsIcon.innerHTML=this.options.up.contentdown,this.element.addEventListener("dragup",this),t.addEventListener("scroll",this),this.finished=!1)}}),e.fn.pullToRefresh=function(t){var i=[];return t=t||{},this.each(function(){var n=this,s=null,o=n.getAttribute("data-pullToRefresh");o?s=e.data[o]:(o=++e.uuid,e.data[o]=s=new e.PullToRefresh(n,t),n.setAttribute("data-pullToRefresh",o)),t.up&&t.up.auto&&s.pullUpLoading(),t.down&&t.down.auto&&s.pullDownLoading(),i.push(s)}),1===i.length?i[0]:i}}(mui,window,document)},function(e,t){"use strict";!function(e){var t=e.className("pull-top-tips");e.PullToRefresh=e.PullToRefresh.extend({init:function(t,i){this._super(t,i),this.options=e.extend(!0,{down:{tips:{colors:["008000","d8ad44","d00324","dc00b8","017efc"],size:200,lineWidth:15,duration:1e3,tail_duration:2500}}},this.options),this.options.down.tips.color=this.options.down.tips.colors[0],this.options.down.tips.colors=this.options.down.tips.colors.map(function(e){return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}})},initPullDownTips:function(){var i=this;e.isFunction(i.options.down.callback)&&(i.pullDownTips=function(){var e=document.querySelector("."+t);return e&&e.parentNode.removeChild(e),e||(e=document.createElement("div"),e.classList.add(t),e.innerHTML='<div class="mui-pull-top-wrapper"><div class="mui-pull-top-canvas"><canvas id="pullDownTips" width="'+i.options.down.tips.size+'" height="'+i.options.down.tips.size+'"></canvas></div></div>',e.addEventListener("webkitTransitionEnd",i),document.body.appendChild(e)),i.pullDownCanvas=document.getElementById("pullDownTips"),i.pullDownCanvasCtx=i.pullDownCanvas.getContext("2d"),i.canvasUtils.init(i.pullDownCanvas,i.options.down.tips),e}())},removePullDownTips:function(){this.pullDownTips&&(this._super(),this.canvasUtils.stopSpin())},pulling:function(e){var t=Math.min(e/(1.5*this.options.down.height),1),i=Math.min(1,2*t);this.pullDownTips.style.webkitTransform="translate3d(0,"+(e<0?0:e)+"px,0)",this.pullDownCanvas.style.opacity=i,this.pullDownCanvas.style.webkitTransform="rotate("+300*t+"deg)";var n=this.pullDownCanvas,s=this.pullDownCanvasCtx,o=this.options.down.tips.size;s.lineWidth=this.options.down.tips.lineWidth,s.fillStyle="#"+this.options.down.tips.color,s.strokeStyle="#"+this.options.down.tips.color,s.stroke(),s.clearRect(0,0,o,o),n.style.display="none",n.offsetHeight,n.style.display="inherit",this.canvasUtils.drawArcedArrow(s,o/2+.5,o/2,o/4,0*Math.PI,5/3*Math.PI*i,!1,1,2,.7853981633974483,25,this.options.down.tips.lineWidth,this.options.down.tips.lineWidth)},beforeChangeOffset:function(e){},afterChangeOffset:function(e){},dragEndAfterChangeOffset:function(e){e?(this.pullDownTips&&this.canvasUtils.startSpin(),this.pullDownLoading()):(this.pullDownTips&&this.canvasUtils.stopSpin(),this.endPullDownToRefresh())},canvasUtils:function(){function t(e,t,i,n){return i*e/n+t}function i(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}function n(e,t,i){var n=Math.min(t,i),s=Math.max(t,i);return e<n?n:e>s?n:e}var s=null,o=null,a=200,r=15,l=0,c=0,d=0,u=0,h=0,p=180,m=Math.PI/180,f=1e3,g=2500,v=["35ad0e","d8ad44","d00324","dc00b8","017efc"],w=null,y=function(e,t,i,n,s,o,a,r){"string"==typeof t&&(t=parseInt(t)),"string"==typeof i&&(i=parseInt(i)),"string"==typeof n&&(n=parseInt(n)),"string"==typeof s&&(s=parseInt(s)),"string"==typeof o&&(o=parseInt(o)),"string"==typeof a&&(a=parseInt(a));2*Math.PI;switch(e.save(),e.beginPath(),e.moveTo(t,i),e.lineTo(n,s),e.lineTo(o,a),r){case 0:var l=Math.sqrt((o-t)*(o-t)+(a-i)*(a-i));e.arcTo(n,s,t,i,.55*l),e.fill();break;case 1:e.beginPath(),e.moveTo(t,i),e.lineTo(n,s),e.lineTo(o,a),e.lineTo(t,i),e.fill();break;case 2:e.stroke();break;case 3:var c=(t+n+o)/3,d=(i+s+a)/3;e.quadraticCurveTo(c,d,t,i),e.fill();break;case 4:var u,h,p,m,l,f=5;if(o==t)l=a-i,u=(n+t)/2,p=(n+t)/2,h=s+l/f,m=s-l/f;else{l=Math.sqrt((o-t)*(o-t)+(a-i)*(a-i));var g=(t+o)/2,v=(i+a)/2,w=(g+n)/2,y=(v+s)/2,T=(a-i)/(o-t),b=l/(2*Math.sqrt(T*T+1))/f,_=T*b;u=w-b,h=y-_,p=w+b,m=y+_}e.bezierCurveTo(u,h,p,m,t,i),e.fill()}e.restore()},T=function(e,t,i,n,s,o,a,r,l,c,d,u,h){r="undefined"!=typeof r?r:3,l="undefined"!=typeof l?l:1,c="undefined"!=typeof c?c:Math.PI/8,u=u||1,h=h||10,d="undefined"!=typeof d?d:10,e.save(),e.lineWidth=u,e.beginPath(),e.arc(t,i,n,s,o,a),e.stroke();var p,m,f,g,v;1&l&&(p=Math.cos(s)*n+t,m=Math.sin(s)*n+i,f=Math.atan2(t-p,m-i),a?(g=p+10*Math.cos(f),v=m+10*Math.sin(f)):(g=p-10*Math.cos(f),v=m-10*Math.sin(f)),b(e,p,m,g,v,r,2,c,d)),2&l&&(p=Math.cos(o)*n+t,m=Math.sin(o)*n+i,f=Math.atan2(t-p,m-i),a?(g=p-10*Math.cos(f),v=m-10*Math.sin(f)):(g=p+10*Math.cos(f),v=m+10*Math.sin(f)),b(e,p-h*Math.sin(o),m+h*Math.cos(o),g-h*Math.sin(o),v+h*Math.cos(o),r,2,c,d)),e.restore()},b=function(e,t,i,n,s,o,a,r,l){"string"==typeof t&&(t=parseInt(t)),"string"==typeof i&&(i=parseInt(i)),"string"==typeof n&&(n=parseInt(n)),"string"==typeof s&&(s=parseInt(s)),o="undefined"!=typeof o?o:3,a="undefined"!=typeof a?a:1,r="undefined"!=typeof r?r:Math.PI/8,l="undefined"!=typeof l?l:10;var c,d,u,h,p="function"!=typeof o?y:o,m=Math.sqrt((n-t)*(n-t)+(s-i)*(s-i)),f=(m-l/3)/m;1&a?(c=Math.round(t+(n-t)*f),d=Math.round(i+(s-i)*f)):(c=n,d=s),2&a?(u=t+(n-t)*(1-f),h=i+(s-i)*(1-f)):(u=t,h=i),e.beginPath(),e.moveTo(u,h),e.lineTo(c,d),e.stroke();var g=Math.atan2(s-i,n-t),v=Math.abs(l/Math.cos(r));if(1&a){var w=g+Math.PI+r,T=n+Math.cos(w)*v,b=s+Math.sin(w)*v,_=g+Math.PI-r,E=n+Math.cos(_)*v,x=s+Math.sin(_)*v;p(e,T,b,n,s,E,x,o)}if(2&a){var w=g+r,T=t+Math.cos(w)*v,b=i+Math.sin(w)*v,_=g-r,E=t+Math.cos(_)*v,x=i+Math.sin(_)*v;p(e,T,b,t,i,E,x,o)}},_=function(e,i){var s=e%i;s<d&&v.push(v.shift());var o=v[0],a=v[1],r=n(t(s,o.r,a.r-o.r,i),o.r,a.r),l=n(t(s,o.g,a.g-o.g,i),o.g,a.g),c=n(t(s,o.b,a.b-o.b,i),o.b,a.b);return d=s,"rgb("+parseInt(r)+","+parseInt(l)+","+parseInt(c)+")";
},E=function e(n){var d=n||(new Date).getTime();c||(c=d),l=d-c,u=i((l+g/2)%g,0,f,g),h=t((l+u)%f,0,360,f),p=20+Math.abs(t((l+g/2)%g,-300,600,g)),o.lineWidth=r,o.lineCap="round",o.strokeStyle=_(l,f),o.clearRect(0,0,a,a),s.style.display="none",s.offsetHeight,s.style.display="inherit",o.beginPath(),o.arc(a/2,a/2,a/4,parseInt(h-p)%360*m,parseInt(h)%360*m,!1),o.stroke(),w=requestAnimationFrame(e)},x=function(){c=0,d=0,w=requestAnimationFrame(E)},L=function(){w&&cancelAnimationFrame(w)},I=function(t,i){s=t,o=s.getContext("2d");var i=e.extend(!0,{},i);v=i.colors,f=i.duration,g=i.tail_duration,a=i.size,r=i.lineWidth};return{init:I,drawArcedArrow:T,startSpin:x,stopSpin:L}}()})}(mui)},function(e,t){"use strict";!function(e,t){var i=e.className("zoom"),n=e.className("zoom-scroller"),s="."+i,o="."+n,a="pinchstart",r="pinch",l="pinchend";"ongesturestart"in t&&(a="gesturestart",r="gesturechange",l="gestureend"),e.Zoom=function(t,i){var n=this;n.options=e.extend(e.Zoom.defaults,i),n.wrapper=n.element=t,n.scroller=t.querySelector(o),n.scrollerStyle=n.scroller&&n.scroller.style,n.zoomer=t.querySelector(s),n.zoomerStyle=n.zoomer&&n.zoomer.style,n.init=function(){e.options.gestureConfig.pinch=!0,e.options.gestureConfig.doubletap=!0,n.initEvents()},n.initEvents=function(t){var i=t?"removeEventListener":"addEventListener",s=n.scroller;s[i](a,n.onPinchstart),s[i](r,n.onPinch),s[i](l,n.onPinchend),s[i](e.EVENT_START,n.onTouchstart),s[i](e.EVENT_MOVE,n.onTouchMove),s[i](e.EVENT_CANCEL,n.onTouchEnd),s[i](e.EVENT_END,n.onTouchEnd),s[i]("drag",n.dragEvent),s[i]("doubletap",n.doubleTapEvent)},n.dragEvent=function(e){(g||h)&&e.stopPropagation()},n.doubleTapEvent=function(e){n.toggleZoom(e.detail.center)},n.transition=function(e,t){return t=t||0,e.webkitTransitionDuration=t+"ms",n},n.translate=function(e,t,i){return t=t||0,i=i||0,e.webkitTransform="translate3d("+t+"px,"+i+"px,0px)",n},n.scale=function(e,t){return t=t||1,e.webkitTransform="translate3d(0,0,0) scale("+t+")",n},n.scrollerTransition=function(e){return n.transition(n.scrollerStyle,e)},n.scrollerTransform=function(e,t){return n.translate(n.scrollerStyle,e,t)},n.zoomerTransition=function(e){return n.transition(n.zoomerStyle,e)},n.zoomerTransform=function(e){return n.scale(n.zoomerStyle,e)};var c=1,d=1,u=!1,h=!1;n.onPinchstart=function(e){h=!0},n.onPinch=function(e){u||(n.zoomerTransition(0),u=!0),c=(e.detail?e.detail.scale:e.scale)*d,c>n.options.maxZoom&&(c=n.options.maxZoom-1+Math.pow(c-n.options.maxZoom+1,.5)),c<n.options.minZoom&&(c=n.options.minZoom+1-Math.pow(n.options.minZoom-c+1,.5)),n.zoomerTransform(c)},n.onPinchend=function(e){c=Math.max(Math.min(c,n.options.maxZoom),n.options.minZoom),n.zoomerTransition(n.options.speed).zoomerTransform(c),d=c,u=!1},n.setZoom=function(e){c=d=e,n.scrollerTransition(n.options.speed).scrollerTransform(0,0),n.zoomerTransition(n.options.speed).zoomerTransform(c)},n.toggleZoom=function(t,i){if("number"==typeof t&&(i=t,t=void 0),i="undefined"==typeof i?n.options.speed:i,c&&1!==c)c=d=1,n.scrollerTransition(i).scrollerTransform(0,0);else if(c=d=n.options.maxZoom,t){var s=e.offset(n.zoomer),o=s.top,a=s.left,r=(t.x-a)*c,l=(t.y-o)*c;this._cal(),r>=b&&r<=b+p?r=b-r+p/2:r<b?r=b-r+p/2:r>b+p&&(r=b+p-r-p/2),l>=_&&l<=_+m?l=_-l+m/2:l<_?l=_-l+m/2:l>_+m&&(l=_+m-l-m/2),r=Math.min(Math.max(r,y),b),l=Math.min(Math.max(l,T),_),n.scrollerTransition(i).scrollerTransform(r,l)}else n.scrollerTransition(i).scrollerTransform(0,0);n.zoomerTransition(i).zoomerTransform(c)},n._cal=function(){p=n.wrapper.offsetWidth,m=n.wrapper.offsetHeight,E=n.zoomer.offsetWidth,x=n.zoomer.offsetHeight;var e=E*c,t=x*c;y=Math.min(p/2-e/2,0),b=-y,T=Math.min(m/2-t/2,0),_=-T};var p,m,f,g,v,w,y,T,b,_,E,x,L,I,M,S,D,k,N,z={},C={};return n.onTouchstart=function(t){t.preventDefault(),f=!0,z.x=t.type===e.EVENT_START?t.targetTouches[0].pageX:t.pageX,z.y=t.type===e.EVENT_START?t.targetTouches[0].pageY:t.pageY},n.onTouchMove=function(t){if(t.preventDefault(),f){if(!g){p=n.wrapper.offsetWidth,m=n.wrapper.offsetHeight,E=n.zoomer.offsetWidth,x=n.zoomer.offsetHeight;var i=e.parseTranslateMatrix(e.getStyles(n.scroller,"webkitTransform"));L=i.x||0,I=i.y||0,n.scrollerTransition(0)}var s=E*c,o=x*c;if(!(s<p&&o<m)){if(y=Math.min(p/2-s/2,0),b=-y,T=Math.min(m/2-o/2,0),_=-T,C.x=t.type===e.EVENT_MOVE?t.targetTouches[0].pageX:t.pageX,C.y=t.type===e.EVENT_MOVE?t.targetTouches[0].pageY:t.pageY,!g&&!u&&(Math.floor(y)===Math.floor(L)&&C.x<z.x||Math.floor(b)===Math.floor(L)&&C.x>z.x))return void(f=!1);g=!0,v=C.x-z.x+L,w=C.y-z.y+I,v<y&&(v=y+1-Math.pow(y-v+1,.8)),v>b&&(v=b-1+Math.pow(v-b+1,.8)),w<T&&(w=T+1-Math.pow(T-w+1,.8)),w>_&&(w=_-1+Math.pow(w-_+1,.8)),M||(M=C.x),k||(k=C.y),S||(S=e.now()),D=(C.x-M)/(e.now()-S)/2,N=(C.y-k)/(e.now()-S)/2,Math.abs(C.x-M)<2&&(D=0),Math.abs(C.y-k)<2&&(N=0),M=C.x,k=C.y,S=e.now(),n.scrollerTransform(v,w)}}},n.onTouchEnd=function(e){if(e.touches.length||(h=!1),!f||!g)return f=!1,void(g=!1);f=!1,g=!1;var t=300,i=300,s=D*t,o=v+s,a=N*i,r=w+a;0!==D&&(t=Math.abs((o-v)/D)),0!==N&&(i=Math.abs((r-w)/N));var l=Math.max(t,i);v=o,w=r;var d=E*c,u=x*c;y=Math.min(p/2-d/2,0),b=-y,T=Math.min(m/2-u/2,0),_=-T,v=Math.max(Math.min(v,b),y),w=Math.max(Math.min(w,_),T),n.scrollerTransition(l).scrollerTransform(v,w)},n.destroy=function(){n.initEvents(!0),delete e.data[n.wrapper.getAttribute("data-zoomer")],n.wrapper.setAttribute("data-zoomer","")},n.init(),n},e.Zoom.defaults={speed:300,maxZoom:3,minZoom:1},e.fn.zoom=function(t){var i=[];return this.each(function(){var n=null,s=this,o=s.getAttribute("data-zoomer");o?n=e.data[o]:(o=++e.uuid,e.data[o]=n=new e.Zoom(s,t),s.setAttribute("data-zoomer",o)),i.push(n)}),1===i.length?i[0]:i}}(mui,window)},function(e,t){"use strict";!function(e,t){var i='<div id="{{id}}" class="mui-slider mui-preview-image mui-fullscreen"><div class="mui-preview-header">{{header}}</div><div class="mui-slider-group"></div><div class="mui-preview-footer mui-hidden">{{footer}}</div><div class="mui-preview-loading"><span class="mui-spinner mui-spinner-white"></span></div></div>',n='<div class="mui-slider-item mui-zoom-wrapper {{className}}"><div class="mui-zoom-scroller"><img  onerror=\'this.src=\"../../static/img/placehold.png\"\' src="{{src}}" data-preview-lazyload="{{lazyload}}" style="{{style}}" class="mui-zoom"></div></div>',s="__DEFAULT",o=document.createElement("div"),a=function(t){this.options=e.extend(!0,{id:"__MUI_PREVIEWIMAGE",zoom:!0,header:'<span class="mui-preview-indicator"></span>',footer:""},t||{}),this.init(),this.initEvent()},r=a.prototype;r.init=function(){var t=this.options,n=document.getElementById(this.options.id);n||(o.innerHTML=i.replace(/\{\{id\}\}/g,this.options.id).replace("{{header}}",t.header).replace("{{footer}}",t.footer),document.body.appendChild(o.firstElementChild),n=document.getElementById(this.options.id)),this.element=n,this.scroller=this.element.querySelector(e.classSelector(".slider-group")),this.indicator=this.element.querySelector(e.classSelector(".preview-indicator")),this.loader=this.element.querySelector(e.classSelector(".preview-loading")),t.footer&&this.element.querySelector(e.classSelector(".preview-footer")).classList.remove(e.className("hidden")),this.addImages()},r.initEvent=function(){var t=this;e(document.body).on("tap","img[data-preview-src]",function(){return t.open(this),!1});var i=null,n=function n(){!i&&(i=e.later(function(){t.loader.removeEventListener("tap",n),t.scroller.removeEventListener("tap",n),t.close()},300))};this.scroller.addEventListener("doubletap",function(){i&&(i.cancel(),i=null)}),this.element.addEventListener("webkitAnimationEnd",function(){t.element.classList.contains(e.className("preview-out"))?(t.element.style.display="none",t.element.classList.remove(e.className("preview-out")),t.element.classList.remove(e.className("preview-in")),i=null):(t.loader.addEventListener("tap",n),t.scroller.addEventListener("tap",n))}),this.element.addEventListener("slide",function(i){if(t.options.zoom){var n=t.element.querySelector(".mui-zoom-wrapper:nth-child("+(t.lastIndex+1)+")");n&&e(n).zoom().setZoom(1)}var s=i.detail.slideNumber;t.lastIndex=s,t.indicator&&(t.indicator.innerText=s+1+"/"+t.currentGroup.length),t._loadItem(s)})},r.addImages=function(e,t){this.groups={};var i=[];if(i=e?e===s?document.querySelectorAll("img[data-preview-src]:not([data-preview-group])"):document.querySelectorAll("img[data-preview-src][data-preview-group='"+e+"']"):document.querySelectorAll("img[data-preview-src]"),i.length)for(var n=0,o=i.length;n<o;n++)this.addImage(i[n])},r.addImage=function(e){var t=e.getAttribute("data-preview-group");t=t||s,this.groups[t]||(this.groups[t]=[]);var i=e.getAttribute("src");if(e.__mui_img_data&&e.__mui_img_data.src===i)this.groups[t].push(e.__mui_img_data);else{var n=e.getAttribute("data-preview-src");n||(n=i);var o={src:i,lazyload:i===n?"":n,loaded:i===n,sWidth:0,sHeight:0,sTop:0,sLeft:0,sScale:1,el:e};this.groups[t].push(o),e.__mui_img_data=o}},r.empty=function(){this.scroller.innerHTML=""},r._initImgData=function(i,n){if(!i.sWidth){var s=i.el;i.sWidth=s.offsetWidth,i.sHeight=s.offsetHeight;var o=e.offset(s);i.sTop=o.top,i.sLeft=o.left,i.sScale=Math.max(i.sWidth/t.innerWidth,i.sHeight/t.innerHeight)}n.style.webkitTransform="translate3d(0,0,0) scale("+i.sScale+")"},r._getScale=function(e,t){var i=e.width/t.width,n=e.height/t.height,s=1;return s=i<=n?e.height/(t.height*i):e.width/(t.width*n)},r._imgTransitionEnd=function(t){var i=t.target;i.classList.remove(e.className("transitioning")),i.removeEventListener("webkitTransitionEnd",this._imgTransitionEnd.bind(this))},r._loadItem=function(t,i){var n=this.scroller.querySelector(e.classSelector(".slider-item:nth-child("+(t+1)+")")),s=this.currentGroup[t],o=n.querySelector("img");if(this._initImgData(s,o),i){var a=this._getPosition(s);o.style.webkitTransitionDuration="0ms",o.style.webkitTransform="translate3d("+a.x+"px,"+a.y+"px,0) scale("+s.sScale+")",o.offsetHeight}if(!s.loaded&&o.getAttribute("data-preview-lazyload")){var r=this;r.loader.classList.add(e.className("active")),o.style.webkitTransitionDuration="0.5s",o.addEventListener("webkitTransitionEnd",r._imgTransitionEnd.bind(r)),o.style.webkitTransform="translate3d(0,0,0) scale("+s.sScale+")",this.loadImage(o,function(){s.loaded=!0,o.src=s.lazyload,r._initZoom(n,this.width,this.height),o.classList.add(e.className("transitioning")),o.addEventListener("webkitTransitionEnd",r._imgTransitionEnd.bind(r)),o.setAttribute("style",""),o.offsetHeight,r.loader.classList.remove(e.className("active"))})}else s.lazyload&&(o.src=s.lazyload),this._initZoom(n,o.width,o.height),o.classList.add(e.className("transitioning")),o.addEventListener("webkitTransitionEnd",this._imgTransitionEnd.bind(this)),o.setAttribute("style",""),o.offsetHeight;this._preloadItem(t+1),this._preloadItem(t-1)},r._preloadItem=function(t){var i=this.scroller.querySelector(e.classSelector(".slider-item:nth-child("+(t+1)+")"));if(i){var n=this.currentGroup[t];if(!n.sWidth){var s=i.querySelector("img");this._initImgData(n,s)}}},r._initZoom=function(t,i,n){if(this.options.zoom&&!t.getAttribute("data-zoomer")){var s=t.querySelector(e.classSelector(".zoom"));if("IMG"===s.tagName){var o=this,a=o._getScale({width:t.offsetWidth,height:t.offsetHeight},{width:i,height:n});e(t).zoom({maxZoom:Math.max(a,1)})}else e(t).zoom()}},r.loadImage=function(e,t){var i=function(){t&&t.call(this)},n=new Image;n.onload=i,n.onerror=i,n.src=e.getAttribute("data-preview-lazyload")},r.getRangeByIndex=function(e,t){return{from:0,to:t-1}},r._getPosition=function(e){var i=e.sLeft-t.pageXOffset,n=e.sTop-t.pageYOffset,s=(t.innerWidth-e.sWidth)/2,o=(t.innerHeight-e.sHeight)/2;return{left:i,top:n,x:i-s,y:n-o}},r.refresh=function(i,s){this.currentGroup=s;for(var o=s.length,a=[],r=this.getRangeByIndex(i,o),l=r.from,c=r.to+1,d=i,u="",h="",p=(t.innerWidth,t.innerHeight,0);l<c;l++,p++){var m=s[l],f="";m.sWidth&&(f="-webkit-transform:translate3d(0,0,0) scale("+m.sScale+");transform:translate3d(0,0,0) scale("+m.sScale+")"),h=n.replace("{{src}}",m.src).replace("{{lazyload}}",m.lazyload).replace("{{style}}",f),l===i?(d=p,u=e.className("active")):u="",a.push(h.replace("{{className}}",u))}this.scroller.innerHTML=a.join(""),this.element.style.display="block",this.element.classList.add(e.className("preview-in")),this.lastIndex=d,this.element.offsetHeight,e(this.element).slider().gotoItem(d,0),this.indicator&&(this.indicator.innerText=d+1+"/"+this.currentGroup.length),this._loadItem(d,!0)},r.openByGroup=function(e,t){e=Math.min(Math.max(0,e),this.groups[t].length-1),this.refresh(e,this.groups[t])},r.open=function(e,t){this.isShown()||("number"==typeof e?(t=t||s,this.addImages(t,e),this.openByGroup(e,t)):(t=e.getAttribute("data-preview-group"),t=t||s,this.addImages(t,e),this.openByGroup(this.groups[t].indexOf(e.__mui_img_data),t)))},r.close=function(i,n){if(this.isShown()){this.element.classList.remove(e.className("preview-in")),this.element.classList.add(e.className("preview-out"));var s=this.scroller.querySelector(e.classSelector(".slider-item:nth-child("+(this.lastIndex+1)+")")),o=s.querySelector("img");if(o){o.classList.add(e.className("transitioning"));var a=this.currentGroup[this.lastIndex],r=this._getPosition(a),l=r.left,c=r.top;c>t.innerHeight||l>t.innerWidth||c<0||l<0?(o.style.opacity=0,o.style.webkitTransitionDuration="0.5s",o.style.webkitTransform="scale("+a.sScale+")"):(this.options.zoom&&e(o.parentNode.parentNode).zoom().toggleZoom(0),o.style.webkitTransitionDuration="0.5s",o.style.webkitTransform="translate3d("+r.x+"px,"+r.y+"px,0) scale("+a.sScale+")")}for(var d=this.element.querySelectorAll(e.classSelector(".zoom-wrapper")),u=0,h=d.length;u<h;u++)e(d[u]).zoom().destroy();e(this.element).slider().destroy()}},r.isShown=function(){return this.element.classList.contains(e.className("preview-in"))};var l=null;e.previewImage=function(e){return l||(l=new a(e)),l},e.getPreviewImage=function(){return l}}(mui,window)}]);